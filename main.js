/*! For license information please see main.js.LICENSE.txt */
(()=>{"use strict";function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t(e)}function e(e,r){for(var n=0;n<r.length;n++){var o=r[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,(void 0,i=function(e,r){if("object"!==t(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,"string");if("object"!==t(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(o.key),"symbol"===t(i)?i:String(i)),o)}var i}var r=function(){function t(e,r){var n=e.renderer;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._renderer=n,this._container=document.querySelector(r)}var r,n;return r=t,(n=[{key:"renderItems",value:function(t){var e=this;t.forEach((function(t){return e._renderer(t)}))}},{key:"setItem",value:function(t){this._container.prepend(t)}}])&&e(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),t}();function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}function o(t,e){for(var r=0;r<e.length;r++){var o=e[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,(void 0,i=function(t,e){if("object"!==n(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var o=r.call(t,"string");if("object"!==n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(o.key),"symbol"===n(i)?i:String(i)),o)}var i}var i=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._popup=e,this._handleEscClose=this._handleEscClose.bind(this),this._handleTargetClose=this._handleTargetClose.bind(this)}var e,r;return e=t,(r=[{key:"open",value:function(){this._popup.classList.add("popup_opened"),document.addEventListener("click",this._handleTargetClose),document.addEventListener("keydown",this._handleEscClose)}},{key:"close",value:function(){this._popup.classList.remove("popup_opened"),document.removeEventListener("click",this._handleTargetClose),document.removeEventListener("keydown",this._handleEscClose)}},{key:"setEventListeners",value:function(){var t=this;this._popup.querySelector(".popup__close").addEventListener("click",(function(){return t.close()}))}},{key:"_handleTargetClose",value:function(t){t.target.classList.contains("popup")&&this.close()}},{key:"_handleEscClose",value:function(t){"Escape"===t.code&&this.close()}}])&&o(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function a(t){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a(t)}function u(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==a(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==a(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===a(o)?o:String(o)),n)}var o}function c(){return c="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=l(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},c.apply(this,arguments)}function l(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=p(t)););return t}function s(t,e){return s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},s(t,e)}function f(t,e){if(e&&("object"===a(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function p(t){return p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},p(t)}var h=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&s(t,e)}(a,t);var e,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=p(n);if(o){var r=p(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return f(this,t)});function a(t,e){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(r=i.call(this,t))._handleSubmitForm=e,r._inputList=r._popup.querySelectorAll(".popup__input"),r._form=r._popup.querySelector(".popup__container"),r._submitText=r._popup.querySelector(".popup__btn-text"),r}return e=a,(r=[{key:"_getInputValues",value:function(){var t={};return this._inputList.forEach((function(e){t[e.name]=e.value})),t}},{key:"setInputValues",value:function(t){this._inputList.forEach((function(e){e.value=t[e.name].textContent}))}},{key:"close",value:function(){c(p(a.prototype),"close",this).call(this),this._form.reset()}},{key:"setEventListeners",value:function(){var t=this;c(p(a.prototype),"setEventListeners",this).call(this),this._popup.addEventListener("submit",(function(e){e.preventDefault(),t._handleSubmitForm(t._getInputValues())}))}},{key:"renderLoading",value:function(t){t?this._submitText.classList.add("popup__btn-text_loading"):this._submitText.classList.remove("popup__btn-text_loading")}}])&&u(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),a}(i);function y(t){return y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},y(t)}function v(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==y(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==y(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===y(o)?o:String(o)),n)}var o}function d(){return d="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=m(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},d.apply(this,arguments)}function m(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=g(t)););return t}function b(t,e){return b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},b(t,e)}function _(t,e){if(e&&("object"===y(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function g(t){return g=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},g(t)}var w=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&b(t,e)}(a,t);var e,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=g(n);if(o){var r=g(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return _(this,t)});function a(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(e=i.call(this,t))._pictureFull=e._popup.querySelector(".popup-look-img__image"),e._titlePicture=e._popup.querySelector(".popup-look-img__title"),e}return e=a,(r=[{key:"open",value:function(t,e){this._pictureFull.src=e,this._pictureFull.alt=t,this._titlePicture.textContent=t,d(g(a.prototype),"open",this).call(this)}}])&&v(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),a}(i);function k(t){return k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},k(t)}function S(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==k(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==k(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===k(o)?o:String(o)),n)}var o}function E(){return E="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=L(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},E.apply(this,arguments)}function L(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=P(t)););return t}function O(t,e){return O=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},O(t,e)}function j(t,e){if(e&&("object"===k(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function P(t){return P=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},P(t)}var C=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&O(t,e)}(a,t);var e,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=P(n);if(o){var r=P(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return j(this,t)});function a(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(e=i.call(this,t))._submitButton=e._popup.querySelector(".popup__btn"),e}return e=a,(r=[{key:"submitCallback",value:function(t){this._handleSubmit=t}},{key:"setEventListeners",value:function(){var t=this;E(P(a.prototype),"setEventListeners",this).call(this),this._submitButton.addEventListener("click",(function(e){e.preventDefault(),t._handleSubmit()}))}}])&&S(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),a}(i);function x(t){return x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},x(t)}function I(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==x(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==x(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===x(o)?o:String(o)),n)}var o}var T=function(){function t(e){var r=e.name,n=e.about,o=e.avatar;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._name=document.querySelector(r),this._about=document.querySelector(n),this._avatar=document.querySelector(o)}var e,r;return e=t,(r=[{key:"getUserInfo",value:function(){return{name:this._name,about:this._about,avatar:this._avatar}}},{key:"setUserInfo",value:function(t){this._name.textContent=t.name,this._about.textContent=t.about,this._avatar.src=t.avatar}}])&&I(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function q(t){return q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},q(t)}function R(){R=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,r){return t[e]=r}}function l(t,e,r,o){var i=e&&e.prototype instanceof p?e:p,a=Object.create(i.prototype),u=new L(o||[]);return n(a,"_invoke",{value:w(t,r,u)}),a}function s(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=l;var f={};function p(){}function h(){}function y(){}var v={};c(v,i,(function(){return this}));var d=Object.getPrototypeOf,m=d&&d(d(O([])));m&&m!==e&&r.call(m,i)&&(v=m);var b=y.prototype=p.prototype=Object.create(v);function _(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function g(t,e){function o(n,i,a,u){var c=s(t[n],t,i);if("throw"!==c.type){var l=c.arg,f=l.value;return f&&"object"==q(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,a,u)}),(function(t){o("throw",t,a,u)})):e.resolve(f).then((function(t){l.value=t,a(l)}),(function(t){return o("throw",t,a,u)}))}u(c.arg)}var i;n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){o(t,r,e,n)}))}return i=i?i.then(n,n):n()}})}function w(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var u=k(a,r);if(u){if(u===f)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var c=s(t,e,r);if("normal"===c.type){if(n=r.done?"completed":"suspendedYield",c.arg===f)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(n="completed",r.method="throw",r.arg=c.arg)}}}function k(t,e){var r=e.method,n=t.iterator[r];if(void 0===n)return e.delegate=null,"throw"===r&&t.iterator.return&&(e.method="return",e.arg=void 0,k(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var o=s(n,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,f;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function S(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function L(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(S,this),this.reset(!0)}function O(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:j}}function j(){return{value:void 0,done:!0}}return h.prototype=y,n(b,"constructor",{value:y,configurable:!0}),n(y,"constructor",{value:h,configurable:!0}),h.displayName=c(y,u,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,y):(t.__proto__=y,c(t,u,"GeneratorFunction")),t.prototype=Object.create(b),t},t.awrap=function(t){return{__await:t}},_(g.prototype),c(g.prototype,a,(function(){return this})),t.AsyncIterator=g,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new g(l(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(b),c(b,u,"Generator"),c(b,i,(function(){return this})),c(b,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=O,L.prototype={constructor:L,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var u=r.call(i,"catchLoc"),c=r.call(i,"finallyLoc");if(u&&c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),E(r),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;E(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:O(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},t}function U(t,e,r,n,o,i,a){try{var u=t[i](a),c=u.value}catch(t){return void r(t)}u.done?e(c):Promise.resolve(c).then(n,o)}function B(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){U(i,n,o,a,u,"next",t)}function u(t){U(i,n,o,a,u,"throw",t)}a(void 0)}))}}function A(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==q(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==q(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===q(o)?o:String(o)),n)}var o}var D=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._baseUrl=e.serverUrl,this._headers=e.headers}var e,r,n,o,i,a,u,c,l,s;return e=t,r=[{key:"_requestResult",value:function(t){return t.ok?t.json():Promise.reject("Ошибка: ".concat(t.status))}},{key:"getInitialCards",value:(s=B(R().mark((function t(){var e;return R().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(this._baseUrl,"cards"),{headers:this._headers});case 2:return e=t.sent,t.abrupt("return",this._requestResult(e));case 4:case"end":return t.stop()}}),t,this)}))),function(){return s.apply(this,arguments)})},{key:"getInitialUser",value:(l=B(R().mark((function t(){var e;return R().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(this._baseUrl,"users/me"),{headers:this._headers});case 2:return e=t.sent,t.abrupt("return",this._requestResult(e));case 4:case"end":return t.stop()}}),t,this)}))),function(){return l.apply(this,arguments)})},{key:"editUser",value:(c=B(R().mark((function t(e){var r;return R().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(this._baseUrl,"users/me"),{method:"PATCH",headers:this._headers,body:JSON.stringify({name:e.name,about:e.about})});case 2:return r=t.sent,t.abrupt("return",this._requestResult(r));case 4:case"end":return t.stop()}}),t,this)}))),function(t){return c.apply(this,arguments)})},{key:"editUserAvatar",value:(u=B(R().mark((function t(e){var r;return R().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(this._baseUrl,"users/me/avatar"),{method:"PATCH",headers:this._headers,body:JSON.stringify({avatar:e.avatar})});case 2:return r=t.sent,t.abrupt("return",this._requestResult(r));case 4:case"end":return t.stop()}}),t,this)}))),function(t){return u.apply(this,arguments)})},{key:"postCard",value:(a=B(R().mark((function t(e){var r;return R().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(this._baseUrl,"cards"),{method:"POST",headers:this._headers,body:JSON.stringify({name:e.name,link:e.link})});case 2:return r=t.sent,t.abrupt("return",this._requestResult(r));case 4:case"end":return t.stop()}}),t,this)}))),function(t){return a.apply(this,arguments)})},{key:"deleteCard",value:(i=B(R().mark((function t(e){var r;return R().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(this._baseUrl,"cards/").concat(e),{method:"DELETE",headers:this._headers});case 2:return r=t.sent,t.abrupt("return",this._requestResult(r));case 4:case"end":return t.stop()}}),t,this)}))),function(t){return i.apply(this,arguments)})},{key:"putLike",value:(o=B(R().mark((function t(e){var r;return R().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(this._baseUrl,"cards/").concat(e,"/likes"),{method:"PUT",headers:this._headers});case 2:return r=t.sent,t.abrupt("return",this._requestResult(r));case 4:case"end":return t.stop()}}),t,this)}))),function(t){return o.apply(this,arguments)})},{key:"removeLike",value:(n=B(R().mark((function t(e){var r;return R().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(this._baseUrl,"cards/").concat(e,"/likes"),{method:"DELETE",headers:this._headers});case 2:return r=t.sent,t.abrupt("return",this._requestResult(r));case 4:case"end":return t.stop()}}),t,this)}))),function(t){return n.apply(this,arguments)})}],r&&A(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function N(t){return N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},N(t)}function V(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==N(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==N(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===N(o)?o:String(o)),n)}var o}var F=function(){function t(e){var r=e.data,n=e.templateSelector,o=e.userId,i=e.onClickImage,a=e.onClickDeleteCard,u=e.handlePutLike,c=e.handleRemoveLike;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._name=r.name,this._link=r.link,this._templateSelector=n,this._userId=o,this._cardId=r._id,this._likes=r.likes,this._cardOwnerId=r.owner._id,this._onClickImage=i,this._onClickDeleteCard=a,this._handlePutLike=u,this._handleRemoveLike=c}var e,r;return e=t,(r=[{key:"_getTemplate",value:function(){return document.querySelector(this._templateSelector).content.querySelector(".element").cloneNode(!0)}},{key:"generateCard",value:function(){return this._element=this._getTemplate(),this._elementImage=this._element.querySelector(".element__image"),this._likeElement=this._element.querySelector(".element__like"),this._deleteButton=this._element.querySelector(".element__delete"),this._elementImage.src=this._link,this._element.querySelector(".element__name").textContent=this._name,this._elementImage.alt=this._name,this._likesNumber=this._element.querySelector(".element__number-likes"),this._isLikeCard(),this._hasDeleteCard(),this._likesNumber.textContent=this._likes.length,this._setEventListeners(),this._element}},{key:"deleteCard",value:function(){this._element.remove(),this._element=null}},{key:"_setEventListeners",value:function(){var t=this;this._elementImage.addEventListener("click",(function(){t._onClickImage(t._name,t._link)})),this._deleteButton.addEventListener("click",(function(){t._onClickDeleteCard(t._cardId)})),this._likeElement.addEventListener("click",(function(){t._element.querySelector(".element__like_active")?t._handleRemoveLike(t._cardId):t._handlePutLike(t._cardId)}))}},{key:"_hasDeleteCard",value:function(){this._userId!==this._cardOwnerId&&this._deleteButton.remove()}},{key:"_isLikeCard",value:function(){var t=this;this._likes.some((function(e){return t._userId===e._id}))&&this._likeElement.classList.add("element__like_active")}},{key:"handleLikeCard",value:function(t){this._likes=t.likes,this._likesNumber.textContent=this._likes.length,this._likeElement.classList.toggle("element__like_active")}}])&&V(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}(),G={inputSelector:".popup__input",submitButtonSelector:".popup__submit",inactiveButtonClass:"popup__btn_inactive",inputErrorClass:"popup__input_type_error",errorClass:"popup__input-error_active"};function J(t){return J="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},J(t)}function H(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==J(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==J(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===J(o)?o:String(o)),n)}var o}var M=function(){function t(e,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._config=e,this._formElement=r,this._buttonElement=this._formElement.querySelector(this._config.submitButtonSelector),this._inputList=Array.from(this._formElement.querySelectorAll(this._config.inputSelector))}var e,r;return e=t,(r=[{key:"enableValidation",value:function(){this._setEventListeners()}},{key:"_showInputError",value:function(t){var e=this._formElement.querySelector(".".concat(t.name,"-error"));e.classList.add(this._config.errorClass),e.textContent=t.validationMessage,t.classList.add(this._config.inputErrorClass)}},{key:"_hideInputError",value:function(t){var e=this._formElement.querySelector(".".concat(t.name,"-error"));e.classList.remove(this._config.errorClass),e.textContent="",t.classList.remove(this._config.inputErrorClass)}},{key:"_checkInputValidity",value:function(t){t.validity.valid?this._hideInputError(t):this._showInputError(t)}},{key:"_hasInvalidInput",value:function(){return this._inputList.some((function(t){return!t.validity.valid}))}},{key:"_toggleButtonState",value:function(){this._hasInvalidInput()?(this._buttonElement.classList.add(this._config.inactiveButtonClass),this._buttonElement.setAttribute("disabled",!0)):(this._buttonElement.classList.remove(this._config.inactiveButtonClass),this._buttonElement.removeAttribute("disabled"))}},{key:"resetValidation",value:function(){var t=this;this._toggleButtonState(),this._inputList.forEach((function(e){t._hideInputError(e)}))}},{key:"_setEventListeners",value:function(){var t=this;this._toggleButtonState(),this._inputList.forEach((function(e){e.addEventListener("input",(function(){t._checkInputValidity(e),t._toggleButtonState()}))}))}}])&&H(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function Y(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var z,$=document.querySelector("#popup-edit"),K=document.querySelector(".profile__edit-button"),Q=document.querySelector("#popup-add"),W=document.querySelector(".profile__add-button"),X=document.querySelector(".popup-look-img"),Z=document.querySelector("#popup-confirmation"),tt=document.querySelector("#popup-edit-avatar"),et=document.querySelector(".profile__edit-avatar-button"),rt=new D({serverUrl:"https://mesto.nomoreparties.co/v1/cohort-60/",headers:{authorization:"6a189007-b75f-4743-b5a0-635bc162974c","Content-Type":"application/json"}});Promise.all([rt.getInitialCards(),rt.getInitialUser()]).then((function(t){var e,r,n=(r=2,function(t){if(Array.isArray(t))return t}(e=t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,a,u=[],c=!0,l=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(u.push(n.value),u.length!==e);c=!0);}catch(t){l=!0,o=t}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw o}}return u}}(e,r)||function(t,e){if(t){if("string"==typeof t)return Y(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Y(t,e):void 0}}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=n[0],i=n[1];nt.setUserInfo(i),z=i._id,lt.renderItems(o.reverse())})).catch((function(t){console.log("Ошибка: ".concat(t))}));var nt=new T({name:".profile__title",about:".profile__subtitle",avatar:".profile__avatar"}),ot=new h($,(function(t){ot.renderLoading(!0),rt.editUser(t).then((function(t){nt.setUserInfo(t),ot.close()})).catch((function(t){console.log("Ошибка: ".concat(t))})).finally((function(){ot.renderLoading(!1)}))}));ot.setEventListeners();var it=new h(tt,(function(t){it.renderLoading(!0),rt.editUserAvatar(t).then((function(t){nt.setUserInfo(t),it.close()})).catch((function(t){console.log("Ошибка: ".concat(t))})).finally((function(){it.renderLoading(!1)}))}));it.setEventListeners();var at=new w(X);at.setEventListeners();var ut=new h(Q,(function(t){ut.renderLoading(!0),rt.postCard(t).then((function(t){lt.setItem(st(t)),ut.close()})).catch((function(t){console.log("Ошибка: ".concat(t))})).finally((function(){ut.renderLoading(!1)}))}));ut.setEventListeners();var ct=new C(Z);ct.setEventListeners();var lt=new r({renderer:function(t){lt.setItem(st(t))}},".elements__container"),st=function(t){var e=new F({data:t,templateSelector:"#element-template",userId:z,onClickImage:function(t,e){return at.open(t,e)},onClickDeleteCard:function(t){ct.open(),ct.submitCallback((function(){rt.deleteCard(t).then((function(){e.deleteCard(),ct.close()})).catch((function(t){console.log("Ошибка: ".concat(t))}))}))},handlePutLike:function(t){rt.putLike(t).then((function(t){e.handleLikeCard(t)})).catch((function(t){console.log("Ошибка: ".concat(t))}))},handleRemoveLike:function(t){rt.removeLike(t).then((function(t){e.handleLikeCard(t)})).catch((function(t){console.log("Ошибка: ".concat(t))}))}});return e.generateCard()};K.addEventListener("click",(function(){var t=nt.getUserInfo();ot.setInputValues({name:t.name,about:t.about}),ft.resetValidation(),ot.open()})),W.addEventListener("click",(function(){pt.resetValidation(),ut.open()})),et.addEventListener("click",(function(){ht.resetValidation(),it.open()}));var ft=new M(G,$);ft.enableValidation();var pt=new M(G,Q);pt.enableValidation();var ht=new M(G,tt);ht.enableValidation()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWFpbi5qcyIsIm1hcHBpbmdzIjoiOzByQkFBcUJBLEVBQU8sV0FDMUIsYUFBMEJDLEdBQW1CLElBQS9CQyxFQUFRLEVBQVJBLHNHQUFRLFNBQ3BCQyxLQUFLQyxVQUFZRixFQUNqQkMsS0FBS0UsV0FBYUMsU0FBU0MsY0FBY04sRUFDM0MsU0FVQyxTQVZBLCtCQUVELFNBQVlPLEdBQU8sV0FDakJBLEVBQU1DLFNBQVEsU0FBQ0MsR0FDYixPQUFPLEVBQUtOLFVBQVVNLEVBQ3hCLEdBQ0YsR0FBQyxxQkFFRCxTQUFRQSxHQUNOUCxLQUFLRSxXQUFXTSxRQUFRRCxFQUMxQiwwRUFBQyxFQWR5QiwwcUJDQVBFLEVBQUssV0FDeEIsV0FBWUMsZ0dBQWMsU0FDeEJWLEtBQUtXLE9BQVNELEVBQ2RWLEtBQUtZLGdCQUFrQlosS0FBS1ksZ0JBQWdCQyxLQUFLYixNQUNqREEsS0FBS2MsbUJBQXFCZCxLQUFLYyxtQkFBbUJELEtBQUtiLEtBQ3pELFNBOEJDLFNBOUJBLHdCQUVELFdBQ0VBLEtBQUtXLE9BQU9JLFVBQVVDLElBQUksZ0JBQzFCYixTQUFTYyxpQkFBaUIsUUFBU2pCLEtBQUtjLG9CQUN4Q1gsU0FBU2MsaUJBQWlCLFVBQVdqQixLQUFLWSxnQkFDNUMsR0FBQyxtQkFFRCxXQUNFWixLQUFLVyxPQUFPSSxVQUFVRyxPQUFPLGdCQUM3QmYsU0FBU2dCLG9CQUFvQixRQUFTbkIsS0FBS2Msb0JBQzNDWCxTQUFTZ0Isb0JBQW9CLFVBQVduQixLQUFLWSxnQkFDL0MsR0FBQywrQkFFRCxXQUFvQixXQUNsQlosS0FBS1csT0FDRlAsY0FBYyxpQkFDZGEsaUJBQWlCLFNBQVMsa0JBQU0sRUFBS0csT0FBTyxHQUNqRCxHQUFDLGdDQUVELFNBQW1CQyxHQUNiQSxFQUFFQyxPQUFPUCxVQUFVUSxTQUFTLFVBQzlCdkIsS0FBS29CLE9BRVQsR0FBQyw2QkFFRCxTQUFnQkMsR0FDQyxXQUFYQSxFQUFFRyxNQUNKeEIsS0FBS29CLE9BRVQsMEVBQUMsRUFuQ3VCLCtoRENBSyxJQUVWSyxFQUFhLDBzQkFDaEMsV0FBWWYsRUFBY2dCLEdBQWtCLE1BS3VCLG1HQUx2QixVQUMxQyxjQUFNaEIsSUFDRGlCLGtCQUFvQkQsRUFDekIsRUFBS0UsV0FBYSxFQUFLakIsT0FBT2tCLGlCQUFpQixpQkFDL0MsRUFBS0MsTUFBUSxFQUFLbkIsT0FBT1AsY0FBYyxxQkFDdkMsRUFBSzJCLFlBQWMsRUFBS3BCLE9BQU9QLGNBQWMsb0JBQW9CLENBQ25FLENBbUNDLFNBbkNBLG1DQUVELFdBQ0UsSUFBTTRCLEVBQWMsQ0FBQyxFQUlyQixPQUhBaEMsS0FBSzRCLFdBQVd0QixTQUFRLFNBQUMyQixHQUN2QkQsRUFBWUMsRUFBTUMsTUFBUUQsRUFBTUUsS0FDbEMsSUFDT0gsQ0FDVCxHQUFDLDRCQUVELFNBQWVJLEdBQ2JwQyxLQUFLNEIsV0FBV3RCLFNBQVEsU0FBQzJCLEdBQ3ZCQSxFQUFNRSxNQUFRQyxFQUFLSCxFQUFNQyxNQUFNRyxXQUNqQyxHQUNGLEdBQUMsbUJBRUQsV0FDRSwwQ0FDQXJDLEtBQUs4QixNQUFNUSxPQUNiLEdBQUMsK0JBRUQsV0FBb0IsV0FDbEIsc0RBQ0F0QyxLQUFLVyxPQUFPTSxpQkFBaUIsVUFBVSxTQUFDSSxHQUN0Q0EsRUFBRWtCLGlCQUNGLEVBQUtaLGtCQUFrQixFQUFLYSxrQkFDOUIsR0FDRixHQUFDLDJCQUVELFNBQWNDLEdBQ1JBLEVBQ0Z6QyxLQUFLK0IsWUFBWWhCLFVBQVVDLElBQUksMkJBRS9CaEIsS0FBSytCLFlBQVloQixVQUFVRyxPQUFPLDBCQUV0QywwRUFBQyxFQTFDK0IsQ0FBU1QsK2hEQ0ZaLElBRVZpQyxFQUFjLDBzQkFDakMsV0FBWWhDLEdBQWMsTUFHaUQsbUdBSGpELFVBQ3hCLGNBQU1BLElBQ0RpQyxhQUFlLEVBQUtoQyxPQUFPUCxjQUFjLDBCQUM5QyxFQUFLd0MsY0FBZ0IsRUFBS2pDLE9BQU9QLGNBQWMsMEJBQTBCLENBQzNFLENBTUMsU0FOQSx3QkFDRCxTQUFLOEIsRUFBTVcsR0FDVDdDLEtBQUsyQyxhQUFhRyxJQUFNRCxFQUN4QjdDLEtBQUsyQyxhQUFhSSxJQUFNYixFQUN4QmxDLEtBQUs0QyxjQUFjUCxZQUFjSCxFQUNqQyx3Q0FDRiwwRUFBQyxFQVhnQyxDQUFTekIsK2hEQ0ZiLElBRVZ1QyxFQUFxQiwwc0JBQ3hDLFdBQVl0QyxHQUFjLE1BRXNDLG1HQUZ0QyxVQUN4QixjQUFNQSxJQUNEdUMsY0FBZ0IsRUFBS3RDLE9BQU9QLGNBQWMsZUFBZSxDQUNoRSxDQVlDLFNBWkEsa0NBRUQsU0FBZWMsR0FDYmxCLEtBQUtrRCxjQUFnQmhDLENBQ3ZCLEdBQUMsK0JBRUQsV0FBb0IsV0FDbEIsc0RBQ0FsQixLQUFLaUQsY0FBY2hDLGlCQUFpQixTQUFTLFNBQUNJLEdBQzVDQSxFQUFFa0IsaUJBQ0YsRUFBS1csZUFDUCxHQUNGLDBFQUFDLEVBaEJ1QyxDQUFTekMsMHFCQ0Y5QjBDLEVBQVEsV0FDM0IsY0FBcUMsSUFBdkJqQixFQUFJLEVBQUpBLEtBQU1rQixFQUFLLEVBQUxBLE1BQU9DLEVBQU0sRUFBTkEsb0dBQU0sU0FDL0JyRCxLQUFLc0QsTUFBUW5ELFNBQVNDLGNBQWM4QixHQUNwQ2xDLEtBQUt1RCxPQUFTcEQsU0FBU0MsY0FBY2dELEdBQ3JDcEQsS0FBS3dELFFBQVVyRCxTQUFTQyxjQUFjaUQsRUFDeEMsU0FjQyxTQWRBLCtCQUVELFdBQ0UsTUFBTyxDQUNMbkIsS0FBTWxDLEtBQUtzRCxNQUNYRixNQUFPcEQsS0FBS3VELE9BQ1pGLE9BQVFyRCxLQUFLd0QsUUFFakIsR0FBQyx5QkFFRCxTQUFZcEIsR0FDVnBDLEtBQUtzRCxNQUFNakIsWUFBY0QsRUFBS0YsS0FDOUJsQyxLQUFLdUQsT0FBT2xCLFlBQWNELEVBQUtnQixNQUMvQnBELEtBQUt3RCxRQUFRVixJQUFNVixFQUFLaUIsTUFDMUIsMEVBQUMsRUFuQjBCLHNQQ0M3Qixxck9BRHFCSSxFQUFHLFdBQ3RCLFdBQVlyQixJQUFkLDRGQUFvQixTQUNoQnBDLEtBQUswRCxTQUFXdEIsRUFBS3VCLFVBQ3JCM0QsS0FBSzRELFNBQVd4QixFQUFLeUIsT0FDdkIsQ0FIRixRQTRFRyxFQVJBLEVBUkEsRUFaQSxFQVhBLEVBWkEsRUFQQSxFQVBBLEVBeUVBLE9BcEZILEVBR0csRUFISCxFQUdHLDZCQUVELFNBQWVDLEdBQ2IsT0FBSUEsRUFBSUMsR0FDQ0QsRUFBSUUsT0FHTkMsUUFBUUMsT0FBTyxXQUFELE9BQVlKLEVBQUlLLFFBQ3ZDLEdBQUMsNENBRUQsb0dBQ29CQyxNQUFNLEdBQUQsT0FBSXBFLEtBQUswRCxTQUFRLFNBQVMsQ0FDL0NHLFFBQVM3RCxLQUFLNEQsV0FDZCxPQUZPLE9BQUhFLEVBQU0sRUFBSCx1QkFHRjlELEtBQUtxRSxlQUFlUCxJQUFJLGdEQUNoQyx3RkFFRCxvR0FDb0JNLE1BQU0sR0FBRCxPQUFJcEUsS0FBSzBELFNBQVEsWUFBWSxDQUNsREcsUUFBUzdELEtBQUs0RCxXQUNkLE9BRk8sT0FBSEUsRUFBTSxFQUFILHVCQUdGOUQsS0FBS3FFLGVBQWVQLElBQUksZ0RBQ2hDLGtGQUVELFdBQWUxQixHQUFJLHVGQUNDZ0MsTUFBTSxHQUFELE9BQUlwRSxLQUFLMEQsU0FBUSxZQUFZLENBQ2xEWSxPQUFRLFFBQ1JULFFBQVM3RCxLQUFLNEQsU0FDZFcsS0FBTUMsS0FBS0MsVUFBVSxDQUNuQnZDLEtBQU1FLEVBQUtGLEtBQ1hrQixNQUFPaEIsRUFBS2dCLFVBRWQsT0FQTyxPQUFIVSxFQUFNLEVBQUgsdUJBUUY5RCxLQUFLcUUsZUFBZVAsSUFBSSxnREFDaEMseUZBRUQsV0FBcUIxQixHQUFJLHVGQUNMZ0MsTUFBTSxHQUFELE9BQUlwRSxLQUFLMEQsU0FBUSxtQkFBbUIsQ0FDekRZLE9BQVEsUUFDUlQsUUFBUzdELEtBQUs0RCxTQUNkVyxLQUFNQyxLQUFLQyxVQUFVLENBQ25CcEIsT0FBUWpCLEVBQUtpQixXQUVmLE9BTk8sT0FBSFMsRUFBTSxFQUFILHVCQU9GOUQsS0FBS3FFLGVBQWVQLElBQUksZ0RBQ2hDLG1GQUVELFdBQWUxQixHQUFJLHVGQUNDZ0MsTUFBTSxHQUFELE9BQUlwRSxLQUFLMEQsU0FBUSxTQUFTLENBQy9DWSxPQUFRLE9BQ1JULFFBQVM3RCxLQUFLNEQsU0FDZFcsS0FBTUMsS0FBS0MsVUFBVSxDQUNuQnZDLEtBQU1FLEVBQUtGLEtBQ1hXLEtBQU1ULEVBQUtTLFNBRWIsT0FQTyxPQUFIaUIsRUFBTSxFQUFILHVCQVFGOUQsS0FBS3FFLGVBQWVQLElBQUksZ0RBQ2hDLHFGQUVELFdBQWlCWSxHQUFNLHVGQUNITixNQUFNLEdBQUQsT0FBSXBFLEtBQUswRCxTQUFRLGlCQUFTZ0IsR0FBVSxDQUN6REosT0FBUSxTQUNSVCxRQUFTN0QsS0FBSzRELFdBQ2QsT0FITyxPQUFIRSxFQUFNLEVBQUgsdUJBSUY5RCxLQUFLcUUsZUFBZVAsSUFBSSxnREFDaEMsa0ZBRUQsV0FBY1ksR0FBTSx1RkFDQU4sTUFBTSxHQUFELE9BQUlwRSxLQUFLMEQsU0FBUSxpQkFBU2dCLEVBQU0sVUFBVSxDQUMvREosT0FBUSxNQUNSVCxRQUFTN0QsS0FBSzRELFdBQ2QsT0FITyxPQUFIRSxFQUFNLEVBQUgsdUJBSUY5RCxLQUFLcUUsZUFBZVAsSUFBSSxnREFDaEMscUZBRUQsV0FBaUJZLEdBQU0sdUZBQ0hOLE1BQU0sR0FBRCxPQUFJcEUsS0FBSzBELFNBQVEsaUJBQVNnQixFQUFNLFVBQVUsQ0FDL0RKLE9BQVEsU0FDUlQsUUFBUzdELEtBQUs0RCxXQUNkLE9BSE8sT0FBSEUsRUFBTSxFQUFILHVCQUlGOUQsS0FBS3FFLGVBQWVQLElBQUksZ0RBQ2hDLCtDQXBGSCx1RUFvRkcsRUFyRnFCLDBxQkNBSGEsRUFBSSxXQUN2QixjQVFHLElBUER2QyxFQUFJLEVBQUpBLEtBQ0F3QyxFQUFnQixFQUFoQkEsaUJBQ0FDLEVBQU0sRUFBTkEsT0FDQUMsRUFBWSxFQUFaQSxhQUNBQyxFQUFpQixFQUFqQkEsa0JBQ0FDLEVBQWEsRUFBYkEsY0FDQUMsRUFBZ0IsRUFBaEJBLDhHQUFnQixTQUVoQmpGLEtBQUtzRCxNQUFRbEIsRUFBS0YsS0FDbEJsQyxLQUFLa0YsTUFBUTlDLEVBQUtTLEtBQ2xCN0MsS0FBS21GLGtCQUFvQlAsRUFDekI1RSxLQUFLb0YsUUFBVVAsRUFDZjdFLEtBQUtxRixRQUFVakQsRUFBS2tELElBQ3BCdEYsS0FBS3VGLE9BQVNuRCxFQUFLb0QsTUFDbkJ4RixLQUFLeUYsYUFBZXJELEVBQUtzRCxNQUFNSixJQUMvQnRGLEtBQUsyRixjQUFnQmIsRUFDckI5RSxLQUFLNEYsbUJBQXFCYixFQUMxQi9FLEtBQUs2RixlQUFpQmIsRUFDdEJoRixLQUFLOEYsa0JBQW9CYixDQUMzQixTQXNFQyxTQXRFQSxnQ0FFRCxXQU1FLE9BTG9COUUsU0FDakJDLGNBQWNKLEtBQUttRixtQkFDbkJZLFFBQVEzRixjQUFjLFlBQ3RCNEYsV0FBVSxFQUdmLEdBQUMsMEJBRUQsV0FjRSxPQWJBaEcsS0FBS2lHLFNBQVdqRyxLQUFLa0csZUFDckJsRyxLQUFLbUcsY0FBZ0JuRyxLQUFLaUcsU0FBUzdGLGNBQWMsbUJBQ2pESixLQUFLb0csYUFBZXBHLEtBQUtpRyxTQUFTN0YsY0FBYyxrQkFDaERKLEtBQUtxRyxjQUFnQnJHLEtBQUtpRyxTQUFTN0YsY0FBYyxvQkFDakRKLEtBQUttRyxjQUFjckQsSUFBTTlDLEtBQUtrRixNQUM5QmxGLEtBQUtpRyxTQUFTN0YsY0FBYyxrQkFBa0JpQyxZQUFjckMsS0FBS3NELE1BQ2pFdEQsS0FBS21HLGNBQWNwRCxJQUFNL0MsS0FBS3NELE1BQzlCdEQsS0FBS3NHLGFBQWV0RyxLQUFLaUcsU0FBUzdGLGNBQWMsMEJBQ2hESixLQUFLdUcsY0FDTHZHLEtBQUt3RyxpQkFDTHhHLEtBQUtzRyxhQUFhakUsWUFBY3JDLEtBQUt1RixPQUFPa0IsT0FDNUN6RyxLQUFLMEcscUJBRUUxRyxLQUFLaUcsUUFDZCxHQUFDLHdCQUVELFdBQ0VqRyxLQUFLaUcsU0FBUy9FLFNBQ2RsQixLQUFLaUcsU0FBVyxJQUNsQixHQUFDLGdDQUVELFdBQXFCLFdBQ25CakcsS0FBS21HLGNBQWNsRixpQkFBaUIsU0FBUyxXQUMzQyxFQUFLMEUsY0FBYyxFQUFLckMsTUFBTyxFQUFLNEIsTUFDdEMsSUFFQWxGLEtBQUtxRyxjQUFjcEYsaUJBQWlCLFNBQVMsV0FDM0MsRUFBSzJFLG1CQUFtQixFQUFLUCxRQUMvQixJQUNBckYsS0FBS29HLGFBQWFuRixpQkFBaUIsU0FBUyxXQUN0QyxFQUFLZ0YsU0FBUzdGLGNBQWMseUJBQzlCLEVBQUswRixrQkFBa0IsRUFBS1QsU0FFNUIsRUFBS1EsZUFBZSxFQUFLUixRQUU3QixHQUNGLEdBQUMsNEJBRUQsV0FDTXJGLEtBQUtvRixVQUFZcEYsS0FBS3lGLGNBQ3hCekYsS0FBS3FHLGNBQWNuRixRQUV2QixHQUFDLHlCQUVELFdBQWMsV0FFVmxCLEtBQUt1RixPQUFPb0IsTUFBSyxTQUFDQyxHQUNoQixPQUFPLEVBQUt4QixVQUFZd0IsRUFBS3RCLEdBQy9CLEtBRUF0RixLQUFLb0csYUFBYXJGLFVBQVVDLElBQUksdUJBRXBDLEdBQUMsNEJBRUQsU0FBZW9CLEdBQ2JwQyxLQUFLdUYsT0FBU25ELEVBQUtvRCxNQUNuQnhGLEtBQUtzRyxhQUFhakUsWUFBY3JDLEtBQUt1RixPQUFPa0IsT0FDNUN6RyxLQUFLb0csYUFBYXJGLFVBQVU4RixPQUFPLHVCQUNyQywwRUFBQyxFQTNGc0IsR0NBWkMsRUFBbUIsQ0FDOUJDLGNBQWUsZ0JBQ2ZDLHFCQUFzQixpQkFDdEJDLG9CQUFxQixzQkFDckJDLGdCQUFpQiwwQkFDakJDLFdBQVksb3NCQ0xPQyxFQUFhLFdBQ2hDLFdBQVlDLEVBQVFDLGdHQUFhLFNBQy9CdEgsS0FBS3VILFFBQVVGLEVBQ2ZySCxLQUFLd0gsYUFBZUYsRUFDcEJ0SCxLQUFLeUgsZUFBaUJ6SCxLQUFLd0gsYUFBYXBILGNBQ3RDSixLQUFLdUgsUUFBUVAsc0JBRWZoSCxLQUFLNEIsV0FBYThGLE1BQU1DLEtBQ3RCM0gsS0FBS3dILGFBQWEzRixpQkFBaUI3QixLQUFLdUgsUUFBUVIsZUFFcEQsU0FtRUMsU0FuRUEsb0NBRUQsV0FDRS9HLEtBQUswRyxvQkFDUCxHQUFDLDZCQUVELFNBQWdCa0IsR0FDZCxJQUFNQyxFQUFlN0gsS0FBS3dILGFBQWFwSCxjQUFjLElBQUQsT0FDOUN3SCxFQUFhMUYsS0FBSSxXQUd2QjJGLEVBQWE5RyxVQUFVQyxJQUFJaEIsS0FBS3VILFFBQVFKLFlBQ3hDVSxFQUFheEYsWUFBY3VGLEVBQWFFLGtCQUN4Q0YsRUFBYTdHLFVBQVVDLElBQUloQixLQUFLdUgsUUFBUUwsZ0JBQzFDLEdBQUMsNkJBRUQsU0FBZ0JVLEdBQ2QsSUFBTUMsRUFBZTdILEtBQUt3SCxhQUFhcEgsY0FBYyxJQUFELE9BQzlDd0gsRUFBYTFGLEtBQUksV0FHdkIyRixFQUFhOUcsVUFBVUcsT0FBT2xCLEtBQUt1SCxRQUFRSixZQUMzQ1UsRUFBYXhGLFlBQWMsR0FDM0J1RixFQUFhN0csVUFBVUcsT0FBT2xCLEtBQUt1SCxRQUFRTCxnQkFDN0MsR0FBQyxpQ0FFRCxTQUFvQlUsR0FDZEEsRUFBYUcsU0FBU0MsTUFDeEJoSSxLQUFLaUksZ0JBQWdCTCxHQUVyQjVILEtBQUtrSSxnQkFBZ0JOLEVBRXpCLEdBQUMsOEJBRUQsV0FDRSxPQUFPNUgsS0FBSzRCLFdBQVcrRSxNQUFLLFNBQUNpQixHQUMzQixPQUFRQSxFQUFhRyxTQUFTQyxLQUNoQyxHQUNGLEdBQUMsZ0NBRUQsV0FDTWhJLEtBQUttSSxvQkFDUG5JLEtBQUt5SCxlQUFlMUcsVUFBVUMsSUFBSWhCLEtBQUt1SCxRQUFRTixxQkFDL0NqSCxLQUFLeUgsZUFBZVcsYUFBYSxZQUFZLEtBRTdDcEksS0FBS3lILGVBQWUxRyxVQUFVRyxPQUFPbEIsS0FBS3VILFFBQVFOLHFCQUNsRGpILEtBQUt5SCxlQUFlWSxnQkFBZ0IsWUFFeEMsR0FBQyw2QkFFRCxXQUFrQixXQUNoQnJJLEtBQUtzSSxxQkFFTHRJLEtBQUs0QixXQUFXdEIsU0FBUSxTQUFDc0gsR0FDdkIsRUFBS0ssZ0JBQWdCTCxFQUN2QixHQUNGLEdBQUMsZ0NBRUQsV0FBcUIsV0FDbkI1SCxLQUFLc0kscUJBRUx0SSxLQUFLNEIsV0FBV3RCLFNBQVEsU0FBQ3NILEdBQ3ZCQSxFQUFhM0csaUJBQWlCLFNBQVMsV0FDckMsRUFBS3NILG9CQUFvQlgsR0FDekIsRUFBS1Usb0JBQ1AsR0FDRixHQUNGLDBFQUFDLEVBN0UrQiw2R0NXbEMsSUFVSXpELEVBVkUyRCxFQUFtQnJJLFNBQVNDLGNBQWMsZUFDMUNxSSxFQUFzQnRJLFNBQVNDLGNBQWMseUJBQzdDc0ksRUFBWXZJLFNBQVNDLGNBQWMsY0FDbkN1SSxFQUFzQnhJLFNBQVNDLGNBQWMsd0JBQzdDd0ksRUFBZXpJLFNBQVNDLGNBQWMsbUJBQ3RDeUksRUFBb0IxSSxTQUFTQyxjQUFjLHVCQUMzQzBJLEdBQWtCM0ksU0FBU0MsY0FBYyxzQkFDekMySSxHQUE0QjVJLFNBQVNDLGNBQ3pDLGdDQUtJNEksR0FBTSxJQUFJdkYsRUFBSSxDQUNsQkUsVUFBVywrQ0FDWEUsUUFBUyxDQUNQb0YsY0FBZSx1Q0FDZixlQUFnQixzQkFLcEJoRixRQUFRaUYsSUFBSSxDQUFDRixHQUFJRyxrQkFBbUJILEdBQUlJLG1CQUNyQ0MsTUFBSyxZQUE4QixtNkJBQTVCQyxFQUFZLEtBQUVDLEVBQVEsS0FDNUJDLEdBQVNDLFlBQVlGLEdBQ3JCMUUsRUFBUzBFLEVBQVNqRSxJQUNsQm9FLEdBQVVDLFlBQVlMLEVBQWFNLFVBQ3JDLElBQ0NDLE9BQU0sU0FBQ0MsR0FDTkMsUUFBUUMsSUFBSSxXQUFELE9BQVlGLEdBQ3pCLElBR0YsSUFBTU4sR0FBVyxJQUFJckcsRUFBUyxDQUM1QmpCLEtBQU0sa0JBQ05rQixNQUFPLHFCQUNQQyxPQUFRLHFCQUlKNEcsR0FBMkIsSUFBSXhJLEVBQ25DK0csR0FPRixTQUErQnBHLEdBQzdCNkgsR0FBeUJDLGVBQWMsR0FDdkNsQixHQUNHbUIsU0FBUy9ILEdBQ1RpSCxNQUFLLFNBQUNqSCxHQUNMb0gsR0FBU0MsWUFBWXJILEdBQ3JCNkgsR0FBeUI3SSxPQUMzQixJQUNDeUksT0FBTSxTQUFDQyxHQUNOQyxRQUFRQyxJQUFJLFdBQUQsT0FBWUYsR0FDekIsSUFDQ00sU0FBUSxXQUNQSCxHQUF5QkMsZUFBYyxFQUN6QyxHQUNKLElBakJBRCxHQUF5Qkksb0JBb0J6QixJQUFNQyxHQUEwQixJQUFJN0ksRUFDbENxSCxJQU1GLFNBQThCMUcsR0FDNUJrSSxHQUF3QkosZUFBYyxHQUN0Q2xCLEdBQ0d1QixlQUFlbkksR0FDZmlILE1BQUssU0FBQ2pILEdBQ0xvSCxHQUFTQyxZQUFZckgsR0FDckJrSSxHQUF3QmxKLE9BQzFCLElBQ0N5SSxPQUFNLFNBQUNDLEdBQ05DLFFBQVFDLElBQUksV0FBRCxPQUFZRixHQUN6QixJQUNDTSxTQUFRLFdBQ1BFLEdBQXdCSixlQUFjLEVBQ3hDLEdBQ0osSUFoQkFJLEdBQXdCRCxvQkFtQnhCLElBQU1HLEdBQWlCLElBQUk5SCxFQUFla0csR0FFMUM0QixHQUFlSCxvQkFHZixJQUFNSSxHQUFvQixJQUFJaEosRUFBY2lILEdBSTVDLFNBQXdCdEcsR0FDdEJxSSxHQUFrQlAsZUFBYyxHQUNoQ2xCLEdBQ0cwQixTQUFTdEksR0FDVGlILE1BQUssU0FBQ3ZGLEdBQ0w0RixHQUFVaUIsUUFBUUMsR0FBVzlHLElBQzdCMkcsR0FBa0JySixPQUNwQixJQUNDeUksT0FBTSxTQUFDQyxHQUNOQyxRQUFRQyxJQUFJLFdBQUQsT0FBWUYsR0FDekIsSUFDQ00sU0FBUSxXQUNQSyxHQUFrQlAsZUFBYyxFQUNsQyxHQUNKLElBaEJBTyxHQUFrQkosb0JBbUJsQixJQUFNUSxHQUF3QixJQUFJN0gsRUFBc0I2RixHQUV4RGdDLEdBQXNCUixvQkFHdEIsSUFBTVgsR0FBWSxJQUFJN0osRUFDcEIsQ0FDRUUsU0FBVSxTQUFDUSxHQUNUbUosR0FBVWlCLFFBQVFDLEdBQVdySyxHQUMvQixHQUVGLHdCQUlJcUssR0FBYSxTQUFDeEksR0FDbEIsSUFBTTBJLEVBQU8sSUFBSW5HLEVBQUssQ0FDcEJ2QyxLQUFNQSxFQUNOd0MsaUJBQWtCLG9CQUNsQkMsT0FBUUEsRUFDUkMsYUFBYyxTQUFDNUMsRUFBTVcsR0FBSSxPQUFLMkgsR0FBZU8sS0FBSzdJLEVBQU1XLEVBQUssRUFDN0RrQyxrQkFBbUIsU0FBQ0wsR0FDbEJtRyxHQUFzQkUsT0FDdEJGLEdBQXNCRyxnQkFBZSxXQUNuQ2hDLEdBQ0dpQyxXQUFXdkcsR0FDWDJFLE1BQUssV0FDSnlCLEVBQUtHLGFBQ0xKLEdBQXNCekosT0FDeEIsSUFDQ3lJLE9BQU0sU0FBQ0MsR0FDTkMsUUFBUUMsSUFBSSxXQUFELE9BQVlGLEdBQ3pCLEdBQ0osR0FDRixFQUNBOUUsY0FBZSxTQUFDTixHQUNkc0UsR0FDR2tDLFFBQVF4RyxHQUNSMkUsTUFBSyxTQUFDakgsR0FDTDBJLEVBQUtLLGVBQWUvSSxFQUN0QixJQUNDeUgsT0FBTSxTQUFDQyxHQUNOQyxRQUFRQyxJQUFJLFdBQUQsT0FBWUYsR0FDekIsR0FDSixFQUNBN0UsaUJBQWtCLFNBQUNQLEdBQ2pCc0UsR0FDR29DLFdBQVcxRyxHQUNYMkUsTUFBSyxTQUFDakgsR0FDTDBJLEVBQUtLLGVBQWUvSSxFQUN0QixJQUNDeUgsT0FBTSxTQUFDQyxHQUNOQyxRQUFRQyxJQUFJLFdBQUQsT0FBWUYsR0FDekIsR0FDSixJQUVGLE9BQU9nQixFQUFLTyxjQUNkLEVBR0E1QyxFQUFvQnhILGlCQUFpQixTQUFTLFdBQzVDLElBQU1tQixFQUFPb0gsR0FBUzhCLGNBQ3RCckIsR0FBeUJzQixlQUFlLENBQ3RDckosS0FBTUUsRUFBS0YsS0FDWGtCLE1BQU9oQixFQUFLZ0IsUUFFZG9JLEdBQTBCQyxrQkFDMUJ4QixHQUF5QmMsTUFDM0IsSUFHQXBDLEVBQW9CMUgsaUJBQWlCLFNBQVMsV0FDNUN5SyxHQUFtQkQsa0JBQ25CaEIsR0FBa0JNLE1BQ3BCLElBR0FoQyxHQUEwQjlILGlCQUFpQixTQUFTLFdBQ2xEMEssR0FBeUJGLGtCQUN6Qm5CLEdBQXdCUyxNQUMxQixJQUtBLElBQU1TLEdBQTRCLElBQUlwRSxFQUNwQ04sRUFDQTBCLEdBRUZnRCxHQUEwQkksbUJBRzFCLElBQU1GLEdBQXFCLElBQUl0RSxFQUFjTixFQUFrQjRCLEdBQy9EZ0QsR0FBbUJFLG1CQUduQixJQUFNRCxHQUEyQixJQUFJdkUsRUFDbkNOLEVBQ0FnQyxJQUVGNkMsR0FBeUJDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9TZWN0aW9uLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvUG9wdXAuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhDb25maXJtYXRpb24uanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Vc2VySW5mby5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL0FwaS5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL0NhcmQuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvdXRpbHMvdmFsaWRhdGlvbkNvbmZpZy5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvcGFnZXMvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2VjdGlvbiB7XHJcbiAgY29uc3RydWN0b3IoeyByZW5kZXJlciB9LCBjb250YWluZXJTZWxlY3Rvcikge1xyXG4gICAgdGhpcy5fcmVuZGVyZXIgPSByZW5kZXJlcjtcclxuICAgIHRoaXMuX2NvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoY29udGFpbmVyU2VsZWN0b3IpO1xyXG4gIH1cclxuXHJcbiAgcmVuZGVySXRlbXMoaXRlbXMpIHtcclxuICAgIGl0ZW1zLmZvckVhY2goKGl0ZW0pID0+IHtcclxuICAgICAgcmV0dXJuIHRoaXMuX3JlbmRlcmVyKGl0ZW0pO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBzZXRJdGVtKGl0ZW0pIHtcclxuICAgIHRoaXMuX2NvbnRhaW5lci5wcmVwZW5kKGl0ZW0pO1xyXG4gIH1cclxufVxyXG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cCB7XHJcbiAgY29uc3RydWN0b3IocG9wdXBFbGVtZW50KSB7XHJcbiAgICB0aGlzLl9wb3B1cCA9IHBvcHVwRWxlbWVudDtcclxuICAgIHRoaXMuX2hhbmRsZUVzY0Nsb3NlID0gdGhpcy5faGFuZGxlRXNjQ2xvc2UuYmluZCh0aGlzKTtcclxuICAgIHRoaXMuX2hhbmRsZVRhcmdldENsb3NlID0gdGhpcy5faGFuZGxlVGFyZ2V0Q2xvc2UuYmluZCh0aGlzKTtcclxuICB9XHJcblxyXG4gIG9wZW4oKSB7XHJcbiAgICB0aGlzLl9wb3B1cC5jbGFzc0xpc3QuYWRkKCdwb3B1cF9vcGVuZWQnKTtcclxuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5faGFuZGxlVGFyZ2V0Q2xvc2UpO1xyXG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuX2hhbmRsZUVzY0Nsb3NlKTtcclxuICB9XHJcblxyXG4gIGNsb3NlKCkge1xyXG4gICAgdGhpcy5fcG9wdXAuY2xhc3NMaXN0LnJlbW92ZSgncG9wdXBfb3BlbmVkJyk7XHJcbiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuX2hhbmRsZVRhcmdldENsb3NlKTtcclxuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLl9oYW5kbGVFc2NDbG9zZSk7XHJcbiAgfVxyXG5cclxuICBzZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgIHRoaXMuX3BvcHVwXHJcbiAgICAgIC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2Nsb3NlJylcclxuICAgICAgLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gdGhpcy5jbG9zZSgpKTtcclxuICB9XHJcblxyXG4gIF9oYW5kbGVUYXJnZXRDbG9zZShlKSB7XHJcbiAgICBpZiAoZS50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdwb3B1cCcpKSB7XHJcbiAgICAgIHRoaXMuY2xvc2UoKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIF9oYW5kbGVFc2NDbG9zZShlKSB7XHJcbiAgICBpZiAoZS5jb2RlID09PSAnRXNjYXBlJykge1xyXG4gICAgICB0aGlzLmNsb3NlKCk7XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCBQb3B1cCBmcm9tICcuL1BvcHVwLmpzJztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aEZvcm0gZXh0ZW5kcyBQb3B1cCB7XHJcbiAgY29uc3RydWN0b3IocG9wdXBFbGVtZW50LCBoYW5kbGVTdWJtaXRGb3JtKSB7XHJcbiAgICBzdXBlcihwb3B1cEVsZW1lbnQpO1xyXG4gICAgdGhpcy5faGFuZGxlU3VibWl0Rm9ybSA9IGhhbmRsZVN1Ym1pdEZvcm07XHJcbiAgICB0aGlzLl9pbnB1dExpc3QgPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yQWxsKCcucG9wdXBfX2lucHV0Jyk7XHJcbiAgICB0aGlzLl9mb3JtID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcignLnBvcHVwX19jb250YWluZXInKTtcclxuICAgIHRoaXMuX3N1Ym1pdFRleHQgPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2J0bi10ZXh0Jyk7XHJcbiAgfVxyXG5cclxuICBfZ2V0SW5wdXRWYWx1ZXMoKSB7XHJcbiAgICBjb25zdCBpbnB1dFZhbHVlcyA9IHt9O1xyXG4gICAgdGhpcy5faW5wdXRMaXN0LmZvckVhY2goKGlucHV0KSA9PiB7XHJcbiAgICAgIGlucHV0VmFsdWVzW2lucHV0Lm5hbWVdID0gaW5wdXQudmFsdWU7XHJcbiAgICB9KTtcclxuICAgIHJldHVybiBpbnB1dFZhbHVlcztcclxuICB9XHJcblxyXG4gIHNldElucHV0VmFsdWVzKGRhdGEpIHtcclxuICAgIHRoaXMuX2lucHV0TGlzdC5mb3JFYWNoKChpbnB1dCkgPT4ge1xyXG4gICAgICBpbnB1dC52YWx1ZSA9IGRhdGFbaW5wdXQubmFtZV0udGV4dENvbnRlbnQ7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGNsb3NlKCkge1xyXG4gICAgc3VwZXIuY2xvc2UoKTtcclxuICAgIHRoaXMuX2Zvcm0ucmVzZXQoKTtcclxuICB9XHJcblxyXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgc3VwZXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuICAgIHRoaXMuX3BvcHVwLmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIChlKSA9PiB7XHJcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgdGhpcy5faGFuZGxlU3VibWl0Rm9ybSh0aGlzLl9nZXRJbnB1dFZhbHVlcygpKTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgcmVuZGVyTG9hZGluZyhpc0xvYWRpbmcpIHtcclxuICAgIGlmIChpc0xvYWRpbmcpIHtcclxuICAgICAgdGhpcy5fc3VibWl0VGV4dC5jbGFzc0xpc3QuYWRkKCdwb3B1cF9fYnRuLXRleHRfbG9hZGluZycpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5fc3VibWl0VGV4dC5jbGFzc0xpc3QucmVtb3ZlKCdwb3B1cF9fYnRuLXRleHRfbG9hZGluZycpO1xyXG4gICAgfVxyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgUG9wdXAgZnJvbSAnLi9Qb3B1cC5qcyc7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhJbWFnZSBleHRlbmRzIFBvcHVwIHtcclxuICBjb25zdHJ1Y3Rvcihwb3B1cEVsZW1lbnQpIHtcclxuICAgIHN1cGVyKHBvcHVwRWxlbWVudCk7XHJcbiAgICB0aGlzLl9waWN0dXJlRnVsbCA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cC1sb29rLWltZ19faW1hZ2UnKTtcclxuICAgIHRoaXMuX3RpdGxlUGljdHVyZSA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cC1sb29rLWltZ19fdGl0bGUnKTtcclxuICB9XHJcbiAgb3BlbihuYW1lLCBsaW5rKSB7XHJcbiAgICB0aGlzLl9waWN0dXJlRnVsbC5zcmMgPSBsaW5rO1xyXG4gICAgdGhpcy5fcGljdHVyZUZ1bGwuYWx0ID0gbmFtZTtcclxuICAgIHRoaXMuX3RpdGxlUGljdHVyZS50ZXh0Q29udGVudCA9IG5hbWU7XHJcbiAgICBzdXBlci5vcGVuKCk7XHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCBQb3B1cCBmcm9tICcuL1BvcHVwLmpzJztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aENvbmZpcm1hdGlvbiBleHRlbmRzIFBvcHVwIHtcclxuICBjb25zdHJ1Y3Rvcihwb3B1cEVsZW1lbnQpIHtcclxuICAgIHN1cGVyKHBvcHVwRWxlbWVudCk7XHJcbiAgICB0aGlzLl9zdWJtaXRCdXR0b24gPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2J0bicpO1xyXG4gIH1cclxuXHJcbiAgc3VibWl0Q2FsbGJhY2socmVtb3ZlKSB7XHJcbiAgICB0aGlzLl9oYW5kbGVTdWJtaXQgPSByZW1vdmU7XHJcbiAgfVxyXG5cclxuICBzZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgIHN1cGVyLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcbiAgICB0aGlzLl9zdWJtaXRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xyXG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgIHRoaXMuX2hhbmRsZVN1Ym1pdCgpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG59XHJcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFVzZXJJbmZvIHtcclxuICBjb25zdHJ1Y3Rvcih7IG5hbWUsIGFib3V0LCBhdmF0YXIgfSkge1xyXG4gICAgdGhpcy5fbmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IobmFtZSk7XHJcbiAgICB0aGlzLl9hYm91dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYWJvdXQpO1xyXG4gICAgdGhpcy5fYXZhdGFyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihhdmF0YXIpO1xyXG4gIH1cclxuXHJcbiAgZ2V0VXNlckluZm8oKSB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBuYW1lOiB0aGlzLl9uYW1lLFxyXG4gICAgICBhYm91dDogdGhpcy5fYWJvdXQsXHJcbiAgICAgIGF2YXRhcjogdGhpcy5fYXZhdGFyLFxyXG4gICAgfTtcclxuICB9XHJcblxyXG4gIHNldFVzZXJJbmZvKGRhdGEpIHtcclxuICAgIHRoaXMuX25hbWUudGV4dENvbnRlbnQgPSBkYXRhLm5hbWU7XHJcbiAgICB0aGlzLl9hYm91dC50ZXh0Q29udGVudCA9IGRhdGEuYWJvdXQ7XHJcbiAgICB0aGlzLl9hdmF0YXIuc3JjID0gZGF0YS5hdmF0YXI7XHJcbiAgfVxyXG59XHJcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIEFwaSB7XHJcbiAgY29uc3RydWN0b3IoZGF0YSkge1xyXG4gICAgdGhpcy5fYmFzZVVybCA9IGRhdGEuc2VydmVyVXJsO1xyXG4gICAgdGhpcy5faGVhZGVycyA9IGRhdGEuaGVhZGVycztcclxuICB9XHJcblxyXG4gIF9yZXF1ZXN0UmVzdWx0KHJlcykge1xyXG4gICAgaWYgKHJlcy5vaykge1xyXG4gICAgICByZXR1cm4gcmVzLmpzb24oKTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoYNCe0YjQuNCx0LrQsDogJHtyZXMuc3RhdHVzfWApO1xyXG4gIH1cclxuXHJcbiAgYXN5bmMgZ2V0SW5pdGlhbENhcmRzKCkge1xyXG4gICAgY29uc3QgcmVzID0gYXdhaXQgZmV0Y2goYCR7dGhpcy5fYmFzZVVybH1jYXJkc2AsIHtcclxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgIH0pO1xyXG4gICAgcmV0dXJuIHRoaXMuX3JlcXVlc3RSZXN1bHQocmVzKTtcclxuICB9XHJcblxyXG4gIGFzeW5jIGdldEluaXRpYWxVc2VyKCkge1xyXG4gICAgY29uc3QgcmVzID0gYXdhaXQgZmV0Y2goYCR7dGhpcy5fYmFzZVVybH11c2Vycy9tZWAsIHtcclxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgIH0pO1xyXG4gICAgcmV0dXJuIHRoaXMuX3JlcXVlc3RSZXN1bHQocmVzKTtcclxuICB9XHJcblxyXG4gIGFzeW5jIGVkaXRVc2VyKGRhdGEpIHtcclxuICAgIGNvbnN0IHJlcyA9IGF3YWl0IGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9dXNlcnMvbWVgLCB7XHJcbiAgICAgIG1ldGhvZDogJ1BBVENIJyxcclxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xyXG4gICAgICAgIG5hbWU6IGRhdGEubmFtZSxcclxuICAgICAgICBhYm91dDogZGF0YS5hYm91dCxcclxuICAgICAgfSksXHJcbiAgICB9KTtcclxuICAgIHJldHVybiB0aGlzLl9yZXF1ZXN0UmVzdWx0KHJlcyk7XHJcbiAgfVxyXG5cclxuICBhc3luYyBlZGl0VXNlckF2YXRhcihkYXRhKSB7XHJcbiAgICBjb25zdCByZXMgPSBhd2FpdCBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfXVzZXJzL21lL2F2YXRhcmAsIHtcclxuICAgICAgbWV0aG9kOiAnUEFUQ0gnLFxyXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XHJcbiAgICAgICAgYXZhdGFyOiBkYXRhLmF2YXRhcixcclxuICAgICAgfSksXHJcbiAgICB9KTtcclxuICAgIHJldHVybiB0aGlzLl9yZXF1ZXN0UmVzdWx0KHJlcyk7XHJcbiAgfVxyXG5cclxuICBhc3luYyBwb3N0Q2FyZChkYXRhKSB7XHJcbiAgICBjb25zdCByZXMgPSBhd2FpdCBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfWNhcmRzYCwge1xyXG4gICAgICBtZXRob2Q6ICdQT1NUJyxcclxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xyXG4gICAgICAgIG5hbWU6IGRhdGEubmFtZSxcclxuICAgICAgICBsaW5rOiBkYXRhLmxpbmssXHJcbiAgICAgIH0pLFxyXG4gICAgfSk7XHJcbiAgICByZXR1cm4gdGhpcy5fcmVxdWVzdFJlc3VsdChyZXMpO1xyXG4gIH1cclxuXHJcbiAgYXN5bmMgZGVsZXRlQ2FyZChjYXJkSWQpIHtcclxuICAgIGNvbnN0IHJlcyA9IGF3YWl0IGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9Y2FyZHMvJHtjYXJkSWR9YCwge1xyXG4gICAgICBtZXRob2Q6ICdERUxFVEUnLFxyXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgfSk7XHJcbiAgICByZXR1cm4gdGhpcy5fcmVxdWVzdFJlc3VsdChyZXMpO1xyXG4gIH1cclxuXHJcbiAgYXN5bmMgcHV0TGlrZShjYXJkSWQpIHtcclxuICAgIGNvbnN0IHJlcyA9IGF3YWl0IGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9Y2FyZHMvJHtjYXJkSWR9L2xpa2VzYCwge1xyXG4gICAgICBtZXRob2Q6ICdQVVQnLFxyXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgfSk7XHJcbiAgICByZXR1cm4gdGhpcy5fcmVxdWVzdFJlc3VsdChyZXMpO1xyXG4gIH1cclxuXHJcbiAgYXN5bmMgcmVtb3ZlTGlrZShjYXJkSWQpIHtcclxuICAgIGNvbnN0IHJlcyA9IGF3YWl0IGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9Y2FyZHMvJHtjYXJkSWR9L2xpa2VzYCwge1xyXG4gICAgICBtZXRob2Q6ICdERUxFVEUnLFxyXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgfSk7XHJcbiAgICByZXR1cm4gdGhpcy5fcmVxdWVzdFJlc3VsdChyZXMpO1xyXG4gIH1cclxufVxyXG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBDYXJkIHtcclxuICBjb25zdHJ1Y3Rvcih7XHJcbiAgICBkYXRhLFxyXG4gICAgdGVtcGxhdGVTZWxlY3RvcixcclxuICAgIHVzZXJJZCxcclxuICAgIG9uQ2xpY2tJbWFnZSxcclxuICAgIG9uQ2xpY2tEZWxldGVDYXJkLFxyXG4gICAgaGFuZGxlUHV0TGlrZSxcclxuICAgIGhhbmRsZVJlbW92ZUxpa2UsXHJcbiAgfSkge1xyXG4gICAgdGhpcy5fbmFtZSA9IGRhdGEubmFtZTtcclxuICAgIHRoaXMuX2xpbmsgPSBkYXRhLmxpbms7XHJcbiAgICB0aGlzLl90ZW1wbGF0ZVNlbGVjdG9yID0gdGVtcGxhdGVTZWxlY3RvcjtcclxuICAgIHRoaXMuX3VzZXJJZCA9IHVzZXJJZDtcclxuICAgIHRoaXMuX2NhcmRJZCA9IGRhdGEuX2lkO1xyXG4gICAgdGhpcy5fbGlrZXMgPSBkYXRhLmxpa2VzO1xyXG4gICAgdGhpcy5fY2FyZE93bmVySWQgPSBkYXRhLm93bmVyLl9pZDtcclxuICAgIHRoaXMuX29uQ2xpY2tJbWFnZSA9IG9uQ2xpY2tJbWFnZTtcclxuICAgIHRoaXMuX29uQ2xpY2tEZWxldGVDYXJkID0gb25DbGlja0RlbGV0ZUNhcmQ7XHJcbiAgICB0aGlzLl9oYW5kbGVQdXRMaWtlID0gaGFuZGxlUHV0TGlrZTtcclxuICAgIHRoaXMuX2hhbmRsZVJlbW92ZUxpa2UgPSBoYW5kbGVSZW1vdmVMaWtlO1xyXG4gIH1cclxuXHJcbiAgX2dldFRlbXBsYXRlKCkge1xyXG4gICAgY29uc3QgY2FyZEVsZW1lbnQgPSBkb2N1bWVudFxyXG4gICAgICAucXVlcnlTZWxlY3Rvcih0aGlzLl90ZW1wbGF0ZVNlbGVjdG9yKVxyXG4gICAgICAuY29udGVudC5xdWVyeVNlbGVjdG9yKCcuZWxlbWVudCcpXHJcbiAgICAgIC5jbG9uZU5vZGUodHJ1ZSk7XHJcblxyXG4gICAgcmV0dXJuIGNhcmRFbGVtZW50O1xyXG4gIH1cclxuXHJcbiAgZ2VuZXJhdGVDYXJkKCkge1xyXG4gICAgdGhpcy5fZWxlbWVudCA9IHRoaXMuX2dldFRlbXBsYXRlKCk7XHJcbiAgICB0aGlzLl9lbGVtZW50SW1hZ2UgPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5lbGVtZW50X19pbWFnZScpO1xyXG4gICAgdGhpcy5fbGlrZUVsZW1lbnQgPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5lbGVtZW50X19saWtlJyk7XHJcbiAgICB0aGlzLl9kZWxldGVCdXR0b24gPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5lbGVtZW50X19kZWxldGUnKTtcclxuICAgIHRoaXMuX2VsZW1lbnRJbWFnZS5zcmMgPSB0aGlzLl9saW5rO1xyXG4gICAgdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuZWxlbWVudF9fbmFtZScpLnRleHRDb250ZW50ID0gdGhpcy5fbmFtZTtcclxuICAgIHRoaXMuX2VsZW1lbnRJbWFnZS5hbHQgPSB0aGlzLl9uYW1lO1xyXG4gICAgdGhpcy5fbGlrZXNOdW1iZXIgPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5lbGVtZW50X19udW1iZXItbGlrZXMnKTtcclxuICAgIHRoaXMuX2lzTGlrZUNhcmQoKTtcclxuICAgIHRoaXMuX2hhc0RlbGV0ZUNhcmQoKTtcclxuICAgIHRoaXMuX2xpa2VzTnVtYmVyLnRleHRDb250ZW50ID0gdGhpcy5fbGlrZXMubGVuZ3RoO1xyXG4gICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuXHJcbiAgICByZXR1cm4gdGhpcy5fZWxlbWVudDtcclxuICB9XHJcblxyXG4gIGRlbGV0ZUNhcmQoKSB7XHJcbiAgICB0aGlzLl9lbGVtZW50LnJlbW92ZSgpO1xyXG4gICAgdGhpcy5fZWxlbWVudCA9IG51bGw7XHJcbiAgfVxyXG5cclxuICBfc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICB0aGlzLl9lbGVtZW50SW1hZ2UuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgICAgIHRoaXMuX29uQ2xpY2tJbWFnZSh0aGlzLl9uYW1lLCB0aGlzLl9saW5rKTtcclxuICAgIH0pO1xyXG5cclxuICAgIHRoaXMuX2RlbGV0ZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICAgICAgdGhpcy5fb25DbGlja0RlbGV0ZUNhcmQodGhpcy5fY2FyZElkKTtcclxuICAgIH0pO1xyXG4gICAgdGhpcy5fbGlrZUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgICAgIGlmICh0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5lbGVtZW50X19saWtlX2FjdGl2ZScpKSB7XHJcbiAgICAgICAgdGhpcy5faGFuZGxlUmVtb3ZlTGlrZSh0aGlzLl9jYXJkSWQpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHRoaXMuX2hhbmRsZVB1dExpa2UodGhpcy5fY2FyZElkKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBfaGFzRGVsZXRlQ2FyZCgpIHtcclxuICAgIGlmICh0aGlzLl91c2VySWQgIT09IHRoaXMuX2NhcmRPd25lcklkKSB7XHJcbiAgICAgIHRoaXMuX2RlbGV0ZUJ1dHRvbi5yZW1vdmUoKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIF9pc0xpa2VDYXJkKCkge1xyXG4gICAgaWYgKFxyXG4gICAgICB0aGlzLl9saWtlcy5zb21lKCh1c2VyKSA9PiB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX3VzZXJJZCA9PT0gdXNlci5faWQ7XHJcbiAgICAgIH0pXHJcbiAgICApIHtcclxuICAgICAgdGhpcy5fbGlrZUVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnZWxlbWVudF9fbGlrZV9hY3RpdmUnKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGhhbmRsZUxpa2VDYXJkKGRhdGEpIHtcclxuICAgIHRoaXMuX2xpa2VzID0gZGF0YS5saWtlcztcclxuICAgIHRoaXMuX2xpa2VzTnVtYmVyLnRleHRDb250ZW50ID0gdGhpcy5fbGlrZXMubGVuZ3RoO1xyXG4gICAgdGhpcy5fbGlrZUVsZW1lbnQuY2xhc3NMaXN0LnRvZ2dsZSgnZWxlbWVudF9fbGlrZV9hY3RpdmUnKTtcclxuICB9XHJcbn1cclxuIiwiZXhwb3J0IGNvbnN0IHZhbGlkYXRpb25Db25maWcgPSB7XHJcbiAgaW5wdXRTZWxlY3RvcjogJy5wb3B1cF9faW5wdXQnLFxyXG4gIHN1Ym1pdEJ1dHRvblNlbGVjdG9yOiAnLnBvcHVwX19zdWJtaXQnLFxyXG4gIGluYWN0aXZlQnV0dG9uQ2xhc3M6ICdwb3B1cF9fYnRuX2luYWN0aXZlJyxcclxuICBpbnB1dEVycm9yQ2xhc3M6ICdwb3B1cF9faW5wdXRfdHlwZV9lcnJvcicsXHJcbiAgZXJyb3JDbGFzczogJ3BvcHVwX19pbnB1dC1lcnJvcl9hY3RpdmUnLFxyXG59O1xyXG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBGb3JtVmFsaWRhdG9yIHtcclxuICBjb25zdHJ1Y3Rvcihjb25maWcsIGZvcm1FbGVtZW50KSB7XHJcbiAgICB0aGlzLl9jb25maWcgPSBjb25maWc7XHJcbiAgICB0aGlzLl9mb3JtRWxlbWVudCA9IGZvcm1FbGVtZW50O1xyXG4gICAgdGhpcy5fYnV0dG9uRWxlbWVudCA9IHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXHJcbiAgICAgIHRoaXMuX2NvbmZpZy5zdWJtaXRCdXR0b25TZWxlY3RvclxyXG4gICAgKTtcclxuICAgIHRoaXMuX2lucHV0TGlzdCA9IEFycmF5LmZyb20oXHJcbiAgICAgIHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwodGhpcy5fY29uZmlnLmlucHV0U2VsZWN0b3IpXHJcbiAgICApO1xyXG4gIH1cclxuXHJcbiAgZW5hYmxlVmFsaWRhdGlvbigpIHtcclxuICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKCk7XHJcbiAgfVxyXG5cclxuICBfc2hvd0lucHV0RXJyb3IoaW5wdXRFbGVtZW50KSB7XHJcbiAgICBjb25zdCBlcnJvckVsZW1lbnQgPSB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKFxyXG4gICAgICBgLiR7aW5wdXRFbGVtZW50Lm5hbWV9LWVycm9yYFxyXG4gICAgKTtcclxuXHJcbiAgICBlcnJvckVsZW1lbnQuY2xhc3NMaXN0LmFkZCh0aGlzLl9jb25maWcuZXJyb3JDbGFzcyk7XHJcbiAgICBlcnJvckVsZW1lbnQudGV4dENvbnRlbnQgPSBpbnB1dEVsZW1lbnQudmFsaWRhdGlvbk1lc3NhZ2U7XHJcbiAgICBpbnB1dEVsZW1lbnQuY2xhc3NMaXN0LmFkZCh0aGlzLl9jb25maWcuaW5wdXRFcnJvckNsYXNzKTtcclxuICB9XHJcblxyXG4gIF9oaWRlSW5wdXRFcnJvcihpbnB1dEVsZW1lbnQpIHtcclxuICAgIGNvbnN0IGVycm9yRWxlbWVudCA9IHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXHJcbiAgICAgIGAuJHtpbnB1dEVsZW1lbnQubmFtZX0tZXJyb3JgXHJcbiAgICApO1xyXG5cclxuICAgIGVycm9yRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2NvbmZpZy5lcnJvckNsYXNzKTtcclxuICAgIGVycm9yRWxlbWVudC50ZXh0Q29udGVudCA9ICcnO1xyXG4gICAgaW5wdXRFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5fY29uZmlnLmlucHV0RXJyb3JDbGFzcyk7XHJcbiAgfVxyXG5cclxuICBfY2hlY2tJbnB1dFZhbGlkaXR5KGlucHV0RWxlbWVudCkge1xyXG4gICAgaWYgKGlucHV0RWxlbWVudC52YWxpZGl0eS52YWxpZCkge1xyXG4gICAgICB0aGlzLl9oaWRlSW5wdXRFcnJvcihpbnB1dEVsZW1lbnQpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5fc2hvd0lucHV0RXJyb3IoaW5wdXRFbGVtZW50KTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIF9oYXNJbnZhbGlkSW5wdXQoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5faW5wdXRMaXN0LnNvbWUoKGlucHV0RWxlbWVudCkgPT4ge1xyXG4gICAgICByZXR1cm4gIWlucHV0RWxlbWVudC52YWxpZGl0eS52YWxpZDtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgX3RvZ2dsZUJ1dHRvblN0YXRlKCkge1xyXG4gICAgaWYgKHRoaXMuX2hhc0ludmFsaWRJbnB1dCgpKSB7XHJcbiAgICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQuY2xhc3NMaXN0LmFkZCh0aGlzLl9jb25maWcuaW5hY3RpdmVCdXR0b25DbGFzcyk7XHJcbiAgICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQuc2V0QXR0cmlidXRlKCdkaXNhYmxlZCcsIHRydWUpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5fYnV0dG9uRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2NvbmZpZy5pbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcclxuICAgICAgdGhpcy5fYnV0dG9uRWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUoJ2Rpc2FibGVkJyk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICByZXNldFZhbGlkYXRpb24oKSB7XHJcbiAgICB0aGlzLl90b2dnbGVCdXR0b25TdGF0ZSgpO1xyXG5cclxuICAgIHRoaXMuX2lucHV0TGlzdC5mb3JFYWNoKChpbnB1dEVsZW1lbnQpID0+IHtcclxuICAgICAgdGhpcy5faGlkZUlucHV0RXJyb3IoaW5wdXRFbGVtZW50KTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgX3NldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgdGhpcy5fdG9nZ2xlQnV0dG9uU3RhdGUoKTtcclxuXHJcbiAgICB0aGlzLl9pbnB1dExpc3QuZm9yRWFjaCgoaW5wdXRFbGVtZW50KSA9PiB7XHJcbiAgICAgIGlucHV0RWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsICgpID0+IHtcclxuICAgICAgICB0aGlzLl9jaGVja0lucHV0VmFsaWRpdHkoaW5wdXRFbGVtZW50KTtcclxuICAgICAgICB0aGlzLl90b2dnbGVCdXR0b25TdGF0ZSgpO1xyXG4gICAgICB9KTtcclxuICAgIH0pO1xyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgJy4vaW5kZXguY3NzJztcclxuaW1wb3J0IFNlY3Rpb24gZnJvbSAnLi4vY29tcG9uZW50cy9TZWN0aW9uLmpzJztcclxuaW1wb3J0IFBvcHVwV2l0aEZvcm0gZnJvbSAnLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtLmpzJztcclxuaW1wb3J0IFBvcHVwV2l0aEltYWdlIGZyb20gJy4uL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UuanMnO1xyXG5pbXBvcnQgUG9wdXBXaXRoQ29uZmlybWF0aW9uIGZyb20gJy4uL2NvbXBvbmVudHMvUG9wdXBXaXRoQ29uZmlybWF0aW9uLmpzJztcclxuaW1wb3J0IFVzZXJJbmZvIGZyb20gJy4uL2NvbXBvbmVudHMvVXNlckluZm8uanMnO1xyXG5pbXBvcnQgQXBpIGZyb20gJy4uL2NvbXBvbmVudHMvQXBpLmpzJztcclxuaW1wb3J0IENhcmQgZnJvbSAnLi4vY29tcG9uZW50cy9DYXJkLmpzJztcclxuaW1wb3J0IHsgdmFsaWRhdGlvbkNvbmZpZyB9IGZyb20gJy4uL3V0aWxzL3ZhbGlkYXRpb25Db25maWcuanMnO1xyXG5pbXBvcnQgRm9ybVZhbGlkYXRvciBmcm9tICcuLi9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IuanMnO1xyXG5cclxuY29uc3QgcG9wdXBFZGl0UHJvZmlsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNwb3B1cC1lZGl0Jyk7XHJcbmNvbnN0IG9wZW5Qb3B1cEVkaXRCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZV9fZWRpdC1idXR0b24nKTtcclxuY29uc3QgcG9wdXBDYXJkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3BvcHVwLWFkZCcpO1xyXG5jb25zdCBwb3B1cENhcmRPcGVuQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2ZpbGVfX2FkZC1idXR0b24nKTtcclxuY29uc3QgcG9wdXBMb29rSW1nID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBvcHVwLWxvb2staW1nJyk7XHJcbmNvbnN0IHBvcHVwQ29uZmlybWF0aW9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3BvcHVwLWNvbmZpcm1hdGlvbicpO1xyXG5jb25zdCBwb3B1cEVkaXRBdmF0YXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjcG9wdXAtZWRpdC1hdmF0YXInKTtcclxuY29uc3Qgb3BlblBvcHVwRWRpdEF2YXRhckJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXHJcbiAgJy5wcm9maWxlX19lZGl0LWF2YXRhci1idXR0b24nXHJcbik7XHJcbmxldCB1c2VySWQ7XHJcblxyXG4vL9GB0L7Qt9C00LDQvdC40LUg0LrQu9Cw0YHRgdCwINCy0LfQsNC40LzQvtC00LXQudGB0YLQstC40Y8g0YEgYXBpXHJcbmNvbnN0IGFwaSA9IG5ldyBBcGkoe1xyXG4gIHNlcnZlclVybDogJ2h0dHBzOi8vbWVzdG8ubm9tb3JlcGFydGllcy5jby92MS9jb2hvcnQtNjAvJyxcclxuICBoZWFkZXJzOiB7XHJcbiAgICBhdXRob3JpemF0aW9uOiAnNmExODkwMDctYjc1Zi00NzQzLWI1YTAtNjM1YmMxNjI5NzRjJyxcclxuICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXHJcbiAgfSxcclxufSk7XHJcblxyXG4vL9C/0YDQuNC10Lwg0LTQsNC90L3Ri9GFINC+INC/0YDQvtGE0LjQu9C1INC4INC60LDRgNGC0L7Rh9C60LDRhSDRgSDRgdC10YDQstC10YDQsC4g0Jgg0LjRhSDQuNGB0L/QvtC70YzQt9C+0LLQsNC90LjQtVxyXG5Qcm9taXNlLmFsbChbYXBpLmdldEluaXRpYWxDYXJkcygpLCBhcGkuZ2V0SW5pdGlhbFVzZXIoKV0pXHJcbiAgLnRoZW4oKFtpbml0aWFsQ2FyZHMsIHVzZXJEYXRhXSkgPT4ge1xyXG4gICAgdXNlckluZm8uc2V0VXNlckluZm8odXNlckRhdGEpO1xyXG4gICAgdXNlcklkID0gdXNlckRhdGEuX2lkO1xyXG4gICAgY2FyZHNMaXN0LnJlbmRlckl0ZW1zKGluaXRpYWxDYXJkcy5yZXZlcnNlKCkpO1xyXG4gIH0pXHJcbiAgLmNhdGNoKChlcnIpID0+IHtcclxuICAgIGNvbnNvbGUubG9nKGDQntGI0LjQsdC60LA6ICR7ZXJyfWApO1xyXG4gIH0pO1xyXG5cclxuLy/RgdC+0LfQtNCw0L3QuNGPINC60LvQsNGB0YHQsCDQv9C10YDQtdC90L7RgdCwINC40L3RhNC+0YDQvNCw0YbQuNC4INC+INC/0L7Qu9GM0LfQvtCy0LDRgtC10LvQtVxyXG5jb25zdCB1c2VySW5mbyA9IG5ldyBVc2VySW5mbyh7XHJcbiAgbmFtZTogJy5wcm9maWxlX190aXRsZScsXHJcbiAgYWJvdXQ6ICcucHJvZmlsZV9fc3VidGl0bGUnLFxyXG4gIGF2YXRhcjogJy5wcm9maWxlX19hdmF0YXInLFxyXG59KTtcclxuXHJcbi8v0YHQvtC30LTQsNC90LjQtSDQutC70LDRgdGB0LAg0L/QvtC/0LDQv9CwINGA0LXQtNCw0LrRgtC40YDQvtCy0LDQvdC40Y8g0LjQvdGE0L7RgNC80LDRhtC40Lgg0L4g0L/QvtC70YzQt9C+0LLQsNGC0LXQu9C1XHJcbmNvbnN0IHBvcHVwV2l0aEZvcm1FZGl0UHJvZmlsZSA9IG5ldyBQb3B1cFdpdGhGb3JtKFxyXG4gIHBvcHVwRWRpdFByb2ZpbGUsXHJcbiAgc3VibWl0RWRpdFByb2ZpbGVGb3JtXHJcbik7XHJcblxyXG5wb3B1cFdpdGhGb3JtRWRpdFByb2ZpbGUuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuXHJcbi8v0L7RgtC/0YDQsNCy0LrQsCDRgtC10LrRgdGC0LAg0YDQtdC00LDQutGC0LjRgNC+0LLQsNC90LjRjyDQv9GA0L7RhNC40LvRjyDQvdCwINGB0YLRgNCw0L3QuNGG0YNcclxuZnVuY3Rpb24gc3VibWl0RWRpdFByb2ZpbGVGb3JtKGRhdGEpIHtcclxuICBwb3B1cFdpdGhGb3JtRWRpdFByb2ZpbGUucmVuZGVyTG9hZGluZyh0cnVlKTtcclxuICBhcGlcclxuICAgIC5lZGl0VXNlcihkYXRhKVxyXG4gICAgLnRoZW4oKGRhdGEpID0+IHtcclxuICAgICAgdXNlckluZm8uc2V0VXNlckluZm8oZGF0YSk7XHJcbiAgICAgIHBvcHVwV2l0aEZvcm1FZGl0UHJvZmlsZS5jbG9zZSgpO1xyXG4gICAgfSlcclxuICAgIC5jYXRjaCgoZXJyKSA9PiB7XHJcbiAgICAgIGNvbnNvbGUubG9nKGDQntGI0LjQsdC60LA6ICR7ZXJyfWApO1xyXG4gICAgfSlcclxuICAgIC5maW5hbGx5KCgpID0+IHtcclxuICAgICAgcG9wdXBXaXRoRm9ybUVkaXRQcm9maWxlLnJlbmRlckxvYWRpbmcoZmFsc2UpO1xyXG4gICAgfSk7XHJcbn1cclxuXHJcbi8v0YHQvtC30LTQsNC90LjQtSDQutC70LDRgdGB0LAg0L/QvtC/0LDQv9CwINGA0LXQtNCw0LrRgtC40YDQvtCy0LDQvdC40Y8g0LDQstCw0YLQsNGA0LBcclxuY29uc3QgcG9wdXBXaXRoRm9ybUVkaXRBdmF0YXIgPSBuZXcgUG9wdXBXaXRoRm9ybShcclxuICBwb3B1cEVkaXRBdmF0YXIsXHJcbiAgc3VibWl0RWRpdEF2YXRhckZvcm1cclxuKTtcclxuXHJcbnBvcHVwV2l0aEZvcm1FZGl0QXZhdGFyLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcblxyXG5mdW5jdGlvbiBzdWJtaXRFZGl0QXZhdGFyRm9ybShkYXRhKSB7XHJcbiAgcG9wdXBXaXRoRm9ybUVkaXRBdmF0YXIucmVuZGVyTG9hZGluZyh0cnVlKTtcclxuICBhcGlcclxuICAgIC5lZGl0VXNlckF2YXRhcihkYXRhKVxyXG4gICAgLnRoZW4oKGRhdGEpID0+IHtcclxuICAgICAgdXNlckluZm8uc2V0VXNlckluZm8oZGF0YSk7XHJcbiAgICAgIHBvcHVwV2l0aEZvcm1FZGl0QXZhdGFyLmNsb3NlKCk7XHJcbiAgICB9KVxyXG4gICAgLmNhdGNoKChlcnIpID0+IHtcclxuICAgICAgY29uc29sZS5sb2coYNCe0YjQuNCx0LrQsDogJHtlcnJ9YCk7XHJcbiAgICB9KVxyXG4gICAgLmZpbmFsbHkoKCkgPT4ge1xyXG4gICAgICBwb3B1cFdpdGhGb3JtRWRpdEF2YXRhci5yZW5kZXJMb2FkaW5nKGZhbHNlKTtcclxuICAgIH0pO1xyXG59XHJcblxyXG4vL9GB0L7Qt9C00LDQvdC40LUg0LrQu9Cw0YHRgdCwINC/0L7Qv9Cw0L/QsCDQvtGC0LrRgNGL0YLQuNGPINC60LDRgNGC0LjQvdC60LhcclxuY29uc3QgcG9wdXBXaXRoSW1hZ2UgPSBuZXcgUG9wdXBXaXRoSW1hZ2UocG9wdXBMb29rSW1nKTtcclxuXHJcbnBvcHVwV2l0aEltYWdlLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcblxyXG4vL9GB0L7Qt9C00LDQvdC40LUg0LrQsNGA0YLQvtGH0LrQuCDRgSDQvdCw0LfQstCw0L3QuNC10Lwg0Lgg0YHRgdGL0LvQutC+0Lkg0LIg0L/QvtC/0LDQv9C1XHJcbmNvbnN0IHBvcHVwV2l0aEZvcm1DYXJkID0gbmV3IFBvcHVwV2l0aEZvcm0ocG9wdXBDYXJkLCBzdWJtaXRDYXJkRm9ybSk7XHJcblxyXG5wb3B1cFdpdGhGb3JtQ2FyZC5zZXRFdmVudExpc3RlbmVycygpO1xyXG5cclxuZnVuY3Rpb24gc3VibWl0Q2FyZEZvcm0oZGF0YSkge1xyXG4gIHBvcHVwV2l0aEZvcm1DYXJkLnJlbmRlckxvYWRpbmcodHJ1ZSk7XHJcbiAgYXBpXHJcbiAgICAucG9zdENhcmQoZGF0YSlcclxuICAgIC50aGVuKChyZXMpID0+IHtcclxuICAgICAgY2FyZHNMaXN0LnNldEl0ZW0oY3JlYXRlQ2FyZChyZXMpKTtcclxuICAgICAgcG9wdXBXaXRoRm9ybUNhcmQuY2xvc2UoKTtcclxuICAgIH0pXHJcbiAgICAuY2F0Y2goKGVycikgPT4ge1xyXG4gICAgICBjb25zb2xlLmxvZyhg0J7RiNC40LHQutCwOiAke2Vycn1gKTtcclxuICAgIH0pXHJcbiAgICAuZmluYWxseSgoKSA9PiB7XHJcbiAgICAgIHBvcHVwV2l0aEZvcm1DYXJkLnJlbmRlckxvYWRpbmcoZmFsc2UpO1xyXG4gICAgfSk7XHJcbn1cclxuXHJcbi8v0YHQvtC30LTQsNC90LjQtSDQutC70LDRgdGB0LAg0L/QvtC/0LDQv9CwINC/0L7QtNGC0LLQtdGA0LbQtNC10L3QuNGPINGD0LTQsNC70LXQvdC40Y8g0LrQsNGA0YLQvtGH0LrQuFxyXG5jb25zdCBwb3B1cFdpdGhDb25maXJtYXRpb24gPSBuZXcgUG9wdXBXaXRoQ29uZmlybWF0aW9uKHBvcHVwQ29uZmlybWF0aW9uKTtcclxuXHJcbnBvcHVwV2l0aENvbmZpcm1hdGlvbi5zZXRFdmVudExpc3RlbmVycygpO1xyXG5cclxuLy/RgNC10L3QtNC10YAg0LrQsNGA0YLQvtGH0LXQuiDQvdCwINGB0YLRgNCw0L3QuNGG0YMg0LjQtyDQvNCw0YHRgdC40LLQsFxyXG5jb25zdCBjYXJkc0xpc3QgPSBuZXcgU2VjdGlvbihcclxuICB7XHJcbiAgICByZW5kZXJlcjogKGl0ZW0pID0+IHtcclxuICAgICAgY2FyZHNMaXN0LnNldEl0ZW0oY3JlYXRlQ2FyZChpdGVtKSk7XHJcbiAgICB9LFxyXG4gIH0sXHJcbiAgJy5lbGVtZW50c19fY29udGFpbmVyJ1xyXG4pO1xyXG5cclxuLy/QodC+0LfQtNCw0L3QuNC1INC90L7QstC+0Lkg0LrQsNGA0YLQvtGH0LrQuFxyXG5jb25zdCBjcmVhdGVDYXJkID0gKGRhdGEpID0+IHtcclxuICBjb25zdCBjYXJkID0gbmV3IENhcmQoe1xyXG4gICAgZGF0YTogZGF0YSxcclxuICAgIHRlbXBsYXRlU2VsZWN0b3I6ICcjZWxlbWVudC10ZW1wbGF0ZScsXHJcbiAgICB1c2VySWQ6IHVzZXJJZCxcclxuICAgIG9uQ2xpY2tJbWFnZTogKG5hbWUsIGxpbmspID0+IHBvcHVwV2l0aEltYWdlLm9wZW4obmFtZSwgbGluayksXHJcbiAgICBvbkNsaWNrRGVsZXRlQ2FyZDogKGNhcmRJZCkgPT4ge1xyXG4gICAgICBwb3B1cFdpdGhDb25maXJtYXRpb24ub3BlbigpO1xyXG4gICAgICBwb3B1cFdpdGhDb25maXJtYXRpb24uc3VibWl0Q2FsbGJhY2soKCkgPT4ge1xyXG4gICAgICAgIGFwaVxyXG4gICAgICAgICAgLmRlbGV0ZUNhcmQoY2FyZElkKVxyXG4gICAgICAgICAgLnRoZW4oKCkgPT4ge1xyXG4gICAgICAgICAgICBjYXJkLmRlbGV0ZUNhcmQoKTtcclxuICAgICAgICAgICAgcG9wdXBXaXRoQ29uZmlybWF0aW9uLmNsb3NlKCk7XHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgICAgLmNhdGNoKChlcnIpID0+IHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coYNCe0YjQuNCx0LrQsDogJHtlcnJ9YCk7XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgfSk7XHJcbiAgICB9LFxyXG4gICAgaGFuZGxlUHV0TGlrZTogKGNhcmRJZCkgPT4ge1xyXG4gICAgICBhcGlcclxuICAgICAgICAucHV0TGlrZShjYXJkSWQpXHJcbiAgICAgICAgLnRoZW4oKGRhdGEpID0+IHtcclxuICAgICAgICAgIGNhcmQuaGFuZGxlTGlrZUNhcmQoZGF0YSk7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuY2F0Y2goKGVycikgPT4ge1xyXG4gICAgICAgICAgY29uc29sZS5sb2coYNCe0YjQuNCx0LrQsDogJHtlcnJ9YCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9LFxyXG4gICAgaGFuZGxlUmVtb3ZlTGlrZTogKGNhcmRJZCkgPT4ge1xyXG4gICAgICBhcGlcclxuICAgICAgICAucmVtb3ZlTGlrZShjYXJkSWQpXHJcbiAgICAgICAgLnRoZW4oKGRhdGEpID0+IHtcclxuICAgICAgICAgIGNhcmQuaGFuZGxlTGlrZUNhcmQoZGF0YSk7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuY2F0Y2goKGVycikgPT4ge1xyXG4gICAgICAgICAgY29uc29sZS5sb2coYNCe0YjQuNCx0LrQsDogJHtlcnJ9YCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9LFxyXG4gIH0pO1xyXG4gIHJldHVybiBjYXJkLmdlbmVyYXRlQ2FyZCgpO1xyXG59O1xyXG5cclxuLy/QvtGC0LrRgNGL0YLQuNC1INC/0L7Qv9Cw0L/QsCDQv9GA0L7RhNC40LvRj1xyXG5vcGVuUG9wdXBFZGl0QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG4gIGNvbnN0IGRhdGEgPSB1c2VySW5mby5nZXRVc2VySW5mbygpO1xyXG4gIHBvcHVwV2l0aEZvcm1FZGl0UHJvZmlsZS5zZXRJbnB1dFZhbHVlcyh7XHJcbiAgICBuYW1lOiBkYXRhLm5hbWUsXHJcbiAgICBhYm91dDogZGF0YS5hYm91dCxcclxuICB9KTtcclxuICBwb3B1cEVkaXRQcm9maWxlVmFsaWRhdG9yLnJlc2V0VmFsaWRhdGlvbigpO1xyXG4gIHBvcHVwV2l0aEZvcm1FZGl0UHJvZmlsZS5vcGVuKCk7XHJcbn0pO1xyXG5cclxuLy/QvtGC0LrRgNGL0YLQuNC1INC/0L7Qv9Cw0L/QsCDRgdC+0LfQtNCw0L3QuNGPINC60LDRgNGC0L7Rh9C60LhcclxucG9wdXBDYXJkT3BlbkJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICBwb3B1cENhcmRWYWxpZGF0b3IucmVzZXRWYWxpZGF0aW9uKCk7XHJcbiAgcG9wdXBXaXRoRm9ybUNhcmQub3BlbigpO1xyXG59KTtcclxuXHJcbi8v0L7RgtC60YDRi9GC0LjQtSDQv9C+0L/QsNC/0LAg0YDQtdC00LDQutGC0LjRgNC+0LLQsNC90LjRjyDQsNCy0LDRgtCw0YDQsFxyXG5vcGVuUG9wdXBFZGl0QXZhdGFyQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG4gIHBvcHVwRWRpdEF2YXRhclZhbGlkYXRvci5yZXNldFZhbGlkYXRpb24oKTtcclxuICBwb3B1cFdpdGhGb3JtRWRpdEF2YXRhci5vcGVuKCk7XHJcbn0pO1xyXG5cclxuLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1WYWxpZGF0aW9uX2Zvcm1zLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcblxyXG4vL9Cy0LDQu9C40LTQsNGG0LjRjyDRhNC+0YDQvNGLINC/0YDQvtGE0LjQu9GPXHJcbmNvbnN0IHBvcHVwRWRpdFByb2ZpbGVWYWxpZGF0b3IgPSBuZXcgRm9ybVZhbGlkYXRvcihcclxuICB2YWxpZGF0aW9uQ29uZmlnLFxyXG4gIHBvcHVwRWRpdFByb2ZpbGVcclxuKTtcclxucG9wdXBFZGl0UHJvZmlsZVZhbGlkYXRvci5lbmFibGVWYWxpZGF0aW9uKCk7XHJcblxyXG4vL9Cy0LDQu9C40LTQsNGG0LjRjyDRhNC+0YDQvNGLINGB0L7Qt9C00LDQvdC40Y8g0LrQsNGA0YLQvtGH0LXQulxyXG5jb25zdCBwb3B1cENhcmRWYWxpZGF0b3IgPSBuZXcgRm9ybVZhbGlkYXRvcih2YWxpZGF0aW9uQ29uZmlnLCBwb3B1cENhcmQpO1xyXG5wb3B1cENhcmRWYWxpZGF0b3IuZW5hYmxlVmFsaWRhdGlvbigpO1xyXG5cclxuLy/QstCw0LvQuNC00LDRhtC40Y8g0YTQvtGA0LzRiyDQsNCy0LDRgtCw0YDQsFxyXG5jb25zdCBwb3B1cEVkaXRBdmF0YXJWYWxpZGF0b3IgPSBuZXcgRm9ybVZhbGlkYXRvcihcclxuICB2YWxpZGF0aW9uQ29uZmlnLFxyXG4gIHBvcHVwRWRpdEF2YXRhclxyXG4pO1xyXG5wb3B1cEVkaXRBdmF0YXJWYWxpZGF0b3IuZW5hYmxlVmFsaWRhdGlvbigpO1xyXG4iXSwibmFtZXMiOlsiU2VjdGlvbiIsImNvbnRhaW5lclNlbGVjdG9yIiwicmVuZGVyZXIiLCJ0aGlzIiwiX3JlbmRlcmVyIiwiX2NvbnRhaW5lciIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsIml0ZW1zIiwiZm9yRWFjaCIsIml0ZW0iLCJwcmVwZW5kIiwiUG9wdXAiLCJwb3B1cEVsZW1lbnQiLCJfcG9wdXAiLCJfaGFuZGxlRXNjQ2xvc2UiLCJiaW5kIiwiX2hhbmRsZVRhcmdldENsb3NlIiwiY2xhc3NMaXN0IiwiYWRkIiwiYWRkRXZlbnRMaXN0ZW5lciIsInJlbW92ZSIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJjbG9zZSIsImUiLCJ0YXJnZXQiLCJjb250YWlucyIsImNvZGUiLCJQb3B1cFdpdGhGb3JtIiwiaGFuZGxlU3VibWl0Rm9ybSIsIl9oYW5kbGVTdWJtaXRGb3JtIiwiX2lucHV0TGlzdCIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJfZm9ybSIsIl9zdWJtaXRUZXh0IiwiaW5wdXRWYWx1ZXMiLCJpbnB1dCIsIm5hbWUiLCJ2YWx1ZSIsImRhdGEiLCJ0ZXh0Q29udGVudCIsInJlc2V0IiwicHJldmVudERlZmF1bHQiLCJfZ2V0SW5wdXRWYWx1ZXMiLCJpc0xvYWRpbmciLCJQb3B1cFdpdGhJbWFnZSIsIl9waWN0dXJlRnVsbCIsIl90aXRsZVBpY3R1cmUiLCJsaW5rIiwic3JjIiwiYWx0IiwiUG9wdXBXaXRoQ29uZmlybWF0aW9uIiwiX3N1Ym1pdEJ1dHRvbiIsIl9oYW5kbGVTdWJtaXQiLCJVc2VySW5mbyIsImFib3V0IiwiYXZhdGFyIiwiX25hbWUiLCJfYWJvdXQiLCJfYXZhdGFyIiwiQXBpIiwiX2Jhc2VVcmwiLCJzZXJ2ZXJVcmwiLCJfaGVhZGVycyIsImhlYWRlcnMiLCJyZXMiLCJvayIsImpzb24iLCJQcm9taXNlIiwicmVqZWN0Iiwic3RhdHVzIiwiZmV0Y2giLCJfcmVxdWVzdFJlc3VsdCIsIm1ldGhvZCIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5IiwiY2FyZElkIiwiQ2FyZCIsInRlbXBsYXRlU2VsZWN0b3IiLCJ1c2VySWQiLCJvbkNsaWNrSW1hZ2UiLCJvbkNsaWNrRGVsZXRlQ2FyZCIsImhhbmRsZVB1dExpa2UiLCJoYW5kbGVSZW1vdmVMaWtlIiwiX2xpbmsiLCJfdGVtcGxhdGVTZWxlY3RvciIsIl91c2VySWQiLCJfY2FyZElkIiwiX2lkIiwiX2xpa2VzIiwibGlrZXMiLCJfY2FyZE93bmVySWQiLCJvd25lciIsIl9vbkNsaWNrSW1hZ2UiLCJfb25DbGlja0RlbGV0ZUNhcmQiLCJfaGFuZGxlUHV0TGlrZSIsIl9oYW5kbGVSZW1vdmVMaWtlIiwiY29udGVudCIsImNsb25lTm9kZSIsIl9lbGVtZW50IiwiX2dldFRlbXBsYXRlIiwiX2VsZW1lbnRJbWFnZSIsIl9saWtlRWxlbWVudCIsIl9kZWxldGVCdXR0b24iLCJfbGlrZXNOdW1iZXIiLCJfaXNMaWtlQ2FyZCIsIl9oYXNEZWxldGVDYXJkIiwibGVuZ3RoIiwiX3NldEV2ZW50TGlzdGVuZXJzIiwic29tZSIsInVzZXIiLCJ0b2dnbGUiLCJ2YWxpZGF0aW9uQ29uZmlnIiwiaW5wdXRTZWxlY3RvciIsInN1Ym1pdEJ1dHRvblNlbGVjdG9yIiwiaW5hY3RpdmVCdXR0b25DbGFzcyIsImlucHV0RXJyb3JDbGFzcyIsImVycm9yQ2xhc3MiLCJGb3JtVmFsaWRhdG9yIiwiY29uZmlnIiwiZm9ybUVsZW1lbnQiLCJfY29uZmlnIiwiX2Zvcm1FbGVtZW50IiwiX2J1dHRvbkVsZW1lbnQiLCJBcnJheSIsImZyb20iLCJpbnB1dEVsZW1lbnQiLCJlcnJvckVsZW1lbnQiLCJ2YWxpZGF0aW9uTWVzc2FnZSIsInZhbGlkaXR5IiwidmFsaWQiLCJfaGlkZUlucHV0RXJyb3IiLCJfc2hvd0lucHV0RXJyb3IiLCJfaGFzSW52YWxpZElucHV0Iiwic2V0QXR0cmlidXRlIiwicmVtb3ZlQXR0cmlidXRlIiwiX3RvZ2dsZUJ1dHRvblN0YXRlIiwiX2NoZWNrSW5wdXRWYWxpZGl0eSIsInBvcHVwRWRpdFByb2ZpbGUiLCJvcGVuUG9wdXBFZGl0QnV0dG9uIiwicG9wdXBDYXJkIiwicG9wdXBDYXJkT3BlbkJ1dHRvbiIsInBvcHVwTG9va0ltZyIsInBvcHVwQ29uZmlybWF0aW9uIiwicG9wdXBFZGl0QXZhdGFyIiwib3BlblBvcHVwRWRpdEF2YXRhckJ1dHRvbiIsImFwaSIsImF1dGhvcml6YXRpb24iLCJhbGwiLCJnZXRJbml0aWFsQ2FyZHMiLCJnZXRJbml0aWFsVXNlciIsInRoZW4iLCJpbml0aWFsQ2FyZHMiLCJ1c2VyRGF0YSIsInVzZXJJbmZvIiwic2V0VXNlckluZm8iLCJjYXJkc0xpc3QiLCJyZW5kZXJJdGVtcyIsInJldmVyc2UiLCJjYXRjaCIsImVyciIsImNvbnNvbGUiLCJsb2ciLCJwb3B1cFdpdGhGb3JtRWRpdFByb2ZpbGUiLCJyZW5kZXJMb2FkaW5nIiwiZWRpdFVzZXIiLCJmaW5hbGx5Iiwic2V0RXZlbnRMaXN0ZW5lcnMiLCJwb3B1cFdpdGhGb3JtRWRpdEF2YXRhciIsImVkaXRVc2VyQXZhdGFyIiwicG9wdXBXaXRoSW1hZ2UiLCJwb3B1cFdpdGhGb3JtQ2FyZCIsInBvc3RDYXJkIiwic2V0SXRlbSIsImNyZWF0ZUNhcmQiLCJwb3B1cFdpdGhDb25maXJtYXRpb24iLCJjYXJkIiwib3BlbiIsInN1Ym1pdENhbGxiYWNrIiwiZGVsZXRlQ2FyZCIsInB1dExpa2UiLCJoYW5kbGVMaWtlQ2FyZCIsInJlbW92ZUxpa2UiLCJnZW5lcmF0ZUNhcmQiLCJnZXRVc2VySW5mbyIsInNldElucHV0VmFsdWVzIiwicG9wdXBFZGl0UHJvZmlsZVZhbGlkYXRvciIsInJlc2V0VmFsaWRhdGlvbiIsInBvcHVwQ2FyZFZhbGlkYXRvciIsInBvcHVwRWRpdEF2YXRhclZhbGlkYXRvciIsImVuYWJsZVZhbGlkYXRpb24iXSwic291cmNlUm9vdCI6IiJ9